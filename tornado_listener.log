2025-07-29 23:36:09,863 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-07-29 23:36:09,864 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-07-29 23:36:09,864 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-07-29 23:36:09,865 - TornadoListener - INFO - Initializing SQLite database connection...
2025-07-29 23:36:09,956 - TornadoListener - INFO - ✅ SQLite database connection established
2025-07-29 23:36:10,014 - TornadoListener - INFO - Initializing bookmark engine...
2025-07-29 23:36:10,104 - core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=0, index=-1
2025-07-29 23:36:10,140 - core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-07-29 23:36:10,149 - core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-07-29 23:36:10,150 - core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-07-29 23:36:10,151 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-07-29 23:36:10,151 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-07-29 23:36:10,151 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-07-29 23:37:53,228 - TornadoListener - INFO - Processing command: 566f733b-aebb-410f-a0e4-8c43e3a1d8e8 - update_slice_visibility
2025-07-29 23:37:53,341 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=False, z=False
2025-07-29 23:37:53,343 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=False, undo_count=0
2025-07-29 23:37:53,344 - core.bookmark_engine_v2 - INFO - x_visible changed from True to False
2025-07-29 23:37:53,345 - core.bookmark_engine_v2 - INFO - y_visible changed from True to False
2025-07-29 23:37:53,346 - core.bookmark_engine_v2 - INFO - z_visible changed from False to False
2025-07-29 23:37:53,362 - core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-07-29 23:37:53,363 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=1
2025-07-29 23:37:53,504 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-29 23:37:53,621 - TornadoListener - INFO - ✅ Command 566f733b-aebb-410f-a0e4-8c43e3a1d8e8 executed successfully
2025-07-29 23:38:04,001 - TornadoListener - INFO - Processing command: 34ea2b88-27ea-4225-bc3e-a8f970eb3618 - undo
2025-07-29 23:38:04,081 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=1
2025-07-29 23:38:04,082 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=2, index=1, undo_count=1
2025-07-29 23:38:04,083 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=2, current_index=1, can_undo=True
2025-07-29 23:38:04,091 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 0
2025-07-29 23:38:04,092 - TornadoListener - INFO - 🔍 AFTER undo: history_length=2, index=0, undo_count=0
2025-07-29 23:38:04,092 - TornadoListener - INFO - ✅ Undo performed: new undo_count=0
2025-07-29 23:38:04,191 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-29 23:38:04,236 - TornadoListener - INFO - ✅ Command 34ea2b88-27ea-4225-bc3e-a8f970eb3618 executed successfully
2025-07-29 23:38:04,237 - TornadoListener - INFO - Processing command: e3d3ad84-6f7e-42f5-93e3-fd60875167bb - undo
2025-07-29 23:38:04,321 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=False, undo_count=0
2025-07-29 23:38:04,322 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=2, index=0, undo_count=0
2025-07-29 23:38:04,322 - TornadoListener - WARNING - ❌ Cannot undo: undo_count=0
2025-07-29 23:38:04,417 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-29 23:38:04,500 - TornadoListener - INFO - ✅ Command e3d3ad84-6f7e-42f5-93e3-fd60875167bb executed successfully
2025-07-29 23:38:18,167 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-29 23:38:18,170 - TornadoListener - INFO - 📤 Processed state request
2025-07-29 23:38:20,481 - TornadoListener - INFO - 📤 Processed template request: 2 templates
2025-07-29 23:38:33,357 - TornadoListener - INFO - 📤 Processed template request: 2 templates
2025-07-29 23:38:53,161 - TornadoListener - INFO - Processing command: e26c92f3-671c-46fa-8068-55bf3fc4c132 - zoom_in
2025-07-29 23:38:53,270 - core.bookmark_engine_v2 - INFO - Scale changed from (0.7511687840078737, 0.7511687840078737) to (0.8262856624086611, 0.8262856624086611)
2025-07-29 23:38:53,284 - core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-07-29 23:38:53,600 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-29 23:38:53,715 - TornadoListener - INFO - ✅ Command e26c92f3-671c-46fa-8068-55bf3fc4c132 executed successfully
2025-07-29 23:39:43,609 - TornadoListener - INFO - Processing command: 4b2481a1-3538-471a-bebe-e6070274d960 - update_position
2025-07-29 23:39:43,714 - TornadoListener - INFO - 🔍 BEFORE position update: history_length=2, index=1, undo_count=1
2025-07-29 23:39:43,715 - core.bookmark_engine_v2 - INFO - Position changed from (160112.5, 112487.5, 3500.0) to (100000.0, 100000.0, 1000.0)
2025-07-29 23:39:43,727 - core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-07-29 23:39:43,729 - TornadoListener - INFO - 🔍 AFTER position update: history_length=3, index=2, undo_count=2
2025-07-29 23:39:44,013 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-29 23:39:44,114 - TornadoListener - INFO - ✅ Command 4b2481a1-3538-471a-bebe-e6070274d960 executed successfully
2025-07-29 23:40:31,034 - TornadoListener - INFO - Processing command: 437c1e0e-9de0-4f4b-ae3d-ad8f9ed481ba - update_position
2025-07-29 23:40:31,122 - TornadoListener - INFO - 🔍 BEFORE position update: history_length=3, index=2, undo_count=2
2025-07-29 23:40:31,123 - core.bookmark_engine_v2 - INFO - Position changed from (100000.0, 100000.0, 1000.0) to (100000.0, 100000.0, 1000.0)
2025-07-29 23:40:31,130 - core.bookmark_engine_v2 - INFO - History updated: length=4, index=3, can_undo=True, undo_count=3
2025-07-29 23:40:31,130 - TornadoListener - INFO - 🔍 AFTER position update: history_length=4, index=3, undo_count=3
2025-07-29 23:40:31,226 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-29 23:40:31,580 - TornadoListener - INFO - ✅ Command 437c1e0e-9de0-4f4b-ae3d-ad8f9ed481ba executed successfully
2025-07-29 23:40:53,243 - TornadoListener - INFO - Processing command: 4eac873e-82c0-4cfd-b2fb-e42a21ce8808 - update_position
2025-07-29 23:40:53,334 - TornadoListener - INFO - 🔍 BEFORE position update: history_length=4, index=3, undo_count=3
2025-07-29 23:40:53,335 - core.bookmark_engine_v2 - INFO - Position changed from (100000.0, 100000.0, 1000.0) to (100000.0, 100000.0, 1000.0)
2025-07-29 23:40:53,344 - core.bookmark_engine_v2 - INFO - History updated: length=5, index=4, can_undo=True, undo_count=4
2025-07-29 23:40:53,346 - TornadoListener - INFO - 🔍 AFTER position update: history_length=5, index=4, undo_count=4
2025-07-29 23:40:53,444 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-29 23:40:53,485 - TornadoListener - INFO - ✅ Command 4eac873e-82c0-4cfd-b2fb-e42a21ce8808 executed successfully
2025-07-29 23:41:30,556 - TornadoListener - INFO - Processing command: 1b504f54-3858-43c3-ac35-26d0e078f50d - update_position
2025-07-29 23:41:30,641 - TornadoListener - INFO - 🔍 BEFORE position update: history_length=5, index=4, undo_count=4
2025-07-29 23:41:30,642 - core.bookmark_engine_v2 - INFO - Position changed from (100000.0, 100000.0, 1000.0) to (200000.0, 100000.0, 1000.0)
2025-07-29 23:41:30,652 - core.bookmark_engine_v2 - INFO - History updated: length=6, index=5, can_undo=True, undo_count=5
2025-07-29 23:41:30,652 - TornadoListener - INFO - 🔍 AFTER position update: history_length=6, index=5, undo_count=5
2025-07-29 23:41:30,751 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-29 23:41:30,801 - TornadoListener - INFO - ✅ Command 1b504f54-3858-43c3-ac35-26d0e078f50d executed successfully
2025-07-29 23:52:51,022 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-07-29 23:52:51,023 - TornadoListener - INFO - Cleaning up resources...
2025-07-29 23:52:51,079 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-07-30 00:10:09,367 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-07-30 00:10:09,368 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-07-30 00:10:09,369 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-07-30 00:10:09,370 - TornadoListener - INFO - Initializing SQLite database connection...
2025-07-30 00:10:09,540 - TornadoListener - INFO - ✅ SQLite database connection established
2025-07-30 00:10:09,620 - TornadoListener - INFO - Initializing bookmark engine...
2025-07-30 00:10:09,742 - core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=0, index=-1
2025-07-30 00:10:09,744 - core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-07-30 00:10:09,759 - core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-07-30 00:10:09,760 - core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-07-30 00:10:09,761 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-07-30 00:10:09,762 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-07-30 00:10:09,763 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-07-30 00:12:16,369 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-07-30 00:12:16,369 - TornadoListener - INFO - Cleaning up resources...
2025-07-30 00:12:16,439 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-07-30 09:45:19,282 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-07-30 09:45:19,282 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-07-30 09:45:19,283 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-07-30 09:45:19,283 - TornadoListener - INFO - Initializing SQLite database connection...
2025-07-30 09:45:19,335 - TornadoListener - INFO - ✅ SQLite database connection established
2025-07-30 09:45:19,365 - TornadoListener - INFO - Initializing bookmark engine...
2025-07-30 09:45:19,396 - core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=0, index=-1
2025-07-30 09:45:19,396 - core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-07-30 09:45:19,400 - core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-07-30 09:45:19,401 - core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-07-30 09:45:19,401 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-07-30 09:45:19,401 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-07-30 09:45:19,402 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-07-30 09:45:40,073 - TornadoListener - INFO - Processing command: 1e743288-a711-4faa-81b4-84999d5e8b0a - update_slice_visibility
2025-07-30 09:45:40,110 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=False, z=False
2025-07-30 09:45:40,111 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=False, undo_count=0
2025-07-30 09:45:40,111 - core.bookmark_engine_v2 - INFO - x_visible changed from True to False
2025-07-30 09:45:40,111 - core.bookmark_engine_v2 - INFO - y_visible changed from True to False
2025-07-30 09:45:40,112 - core.bookmark_engine_v2 - INFO - z_visible changed from False to False
2025-07-30 09:45:40,117 - core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-07-30 09:45:40,117 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=1
2025-07-30 09:45:40,164 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:45:40,203 - TornadoListener - INFO - ✅ Command 1e743288-a711-4faa-81b4-84999d5e8b0a executed successfully
2025-07-30 09:46:46,134 - TornadoListener - INFO - 📤 Processed template request: 2 templates
2025-07-30 09:47:04,749 - TornadoListener - INFO - 📤 Processed template request: 2 templates
2025-07-30 09:47:12,991 - TornadoListener - INFO - Processing command: 05d546d5-8cb6-497f-9446-2b27358c70da - load_template
2025-07-30 09:47:13,022 - TornadoListener - ERROR - ❌ Failed to load template copy.html: Template file not found: /mnt/c/users/user/desktop/Tornado MCP/data/templates/copy.html
2025-07-30 09:47:13,064 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:47:13,103 - TornadoListener - INFO - ✅ Command 05d546d5-8cb6-497f-9446-2b27358c70da executed successfully
2025-07-30 09:47:13,103 - TornadoListener - INFO - Processing command: 4f79f536-b0ac-4e10-9d72-94565348d984 - load_template
2025-07-30 09:47:13,139 - TornadoListener - ERROR - ❌ Failed to load template copy.html: Template file not found: /mnt/c/users/user/desktop/Tornado MCP/data/templates/copy.html
2025-07-30 09:47:13,180 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:47:13,216 - TornadoListener - INFO - ✅ Command 4f79f536-b0ac-4e10-9d72-94565348d984 executed successfully
2025-07-30 09:47:33,805 - TornadoListener - INFO - Processing command: eabf6abd-ab6d-498b-868d-0cc55b0ff537 - load_template
2025-07-30 09:47:33,844 - TornadoListener - ERROR - ❌ Failed to load template copy.html: Template file not found: /mnt/c/users/user/desktop/Tornado MCP/data/templates/copy.html
2025-07-30 09:47:33,890 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:47:33,929 - TornadoListener - INFO - ✅ Command eabf6abd-ab6d-498b-868d-0cc55b0ff537 executed successfully
2025-07-30 09:47:33,929 - TornadoListener - INFO - Processing command: 17b67153-933e-45ea-b655-0dfefe1b1006 - load_template
2025-07-30 09:47:33,968 - TornadoListener - ERROR - ❌ Failed to load template copy.html: Template file not found: /mnt/c/users/user/desktop/Tornado MCP/data/templates/copy.html
2025-07-30 09:47:34,010 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:47:34,049 - TornadoListener - INFO - ✅ Command 17b67153-933e-45ea-b655-0dfefe1b1006 executed successfully
2025-07-30 09:47:46,461 - TornadoListener - INFO - 📤 Processed template request: 2 templates
2025-07-30 09:47:50,596 - TornadoListener - INFO - Processing command: a72cf43f-16cc-4d19-8270-02e9fe498682 - load_template
2025-07-30 09:47:50,635 - TornadoListener - ERROR - ❌ Failed to load template copy.html: Template file not found: /mnt/c/users/user/desktop/Tornado MCP/data/templates/copy.html
2025-07-30 09:47:50,681 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:47:50,720 - TornadoListener - INFO - ✅ Command a72cf43f-16cc-4d19-8270-02e9fe498682 executed successfully
2025-07-30 09:47:50,721 - TornadoListener - INFO - Processing command: 09d81500-4ede-4649-9b5a-76801013f90a - load_template
2025-07-30 09:47:50,762 - TornadoListener - ERROR - ❌ Failed to load template copy.html: Template file not found: /mnt/c/users/user/desktop/Tornado MCP/data/templates/copy.html
2025-07-30 09:47:50,805 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:47:50,843 - TornadoListener - INFO - ✅ Command 09d81500-4ede-4649-9b5a-76801013f90a executed successfully
2025-07-30 09:48:01,125 - TornadoListener - INFO - Processing command: f8c81bfa-8271-4054-ae06-5dec4c6ece47 - load_template
2025-07-30 09:48:01,206 - TornadoListener - INFO - ✅ Template loaded: default_bookmark_copy.html
2025-07-30 09:48:01,252 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:48:01,292 - TornadoListener - INFO - ✅ Command f8c81bfa-8271-4054-ae06-5dec4c6ece47 executed successfully
2025-07-30 09:48:01,292 - TornadoListener - INFO - Processing command: f1d04273-b0d2-4c85-b014-be808ddb56a1 - load_template
2025-07-30 09:48:01,363 - TornadoListener - INFO - ✅ Template loaded: default_bookmark_copy.html
2025-07-30 09:48:01,411 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:48:01,451 - TornadoListener - INFO - ✅ Command f1d04273-b0d2-4c85-b014-be808ddb56a1 executed successfully
2025-07-30 09:48:22,024 - TornadoListener - INFO - Processing command: b623ed05-1301-4969-99a0-992f1d913c0d - undo
2025-07-30 09:48:22,061 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=1
2025-07-30 09:48:22,061 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=2, index=1, undo_count=1
2025-07-30 09:48:22,062 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=2, current_index=1, can_undo=True
2025-07-30 09:48:22,065 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 0
2025-07-30 09:48:22,065 - TornadoListener - INFO - 🔍 AFTER undo: history_length=2, index=0, undo_count=0
2025-07-30 09:48:22,065 - TornadoListener - INFO - ✅ Undo performed: new undo_count=0
2025-07-30 09:48:22,110 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:48:22,153 - TornadoListener - INFO - ✅ Command b623ed05-1301-4969-99a0-992f1d913c0d executed successfully
2025-07-30 09:48:22,153 - TornadoListener - INFO - Processing command: 7eae5663-3044-4d14-b80e-06b7522b3ac2 - undo
2025-07-30 09:48:22,190 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=False, undo_count=0
2025-07-30 09:48:22,191 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=2, index=0, undo_count=0
2025-07-30 09:48:22,191 - TornadoListener - WARNING - ❌ Cannot undo: undo_count=0
2025-07-30 09:48:22,231 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:48:22,272 - TornadoListener - INFO - ✅ Command 7eae5663-3044-4d14-b80e-06b7522b3ac2 executed successfully
2025-07-30 09:48:26,420 - TornadoListener - INFO - Processing command: 2b118ae3-d19c-4dca-a072-142453863838 - redo
2025-07-30 09:48:26,459 - core.bookmark_engine_v2 - INFO - Redo: Advanced to history index 1
2025-07-30 09:48:26,507 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:48:26,546 - TornadoListener - INFO - ✅ Command 2b118ae3-d19c-4dca-a072-142453863838 executed successfully
2025-07-30 09:48:26,546 - TornadoListener - INFO - Processing command: 11382fe7-c883-49ff-9fde-124159c27b88 - redo
2025-07-30 09:48:26,630 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:48:26,664 - TornadoListener - INFO - ✅ Command 11382fe7-c883-49ff-9fde-124159c27b88 executed successfully
2025-07-30 09:48:55,462 - TornadoListener - INFO - Processing command: e5f92967-5fc9-4d14-b398-e757431ff7a8 - update_slice_visibility
2025-07-30 09:48:55,502 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=True, y=None, z=None
2025-07-30 09:48:55,502 - TornadoListener - INFO - 📊 Before update: x_visible=False, y_visible=False, z_visible=False, undo_count=1
2025-07-30 09:48:55,503 - core.bookmark_engine_v2 - INFO - x_visible changed from False to True
2025-07-30 09:48:55,508 - core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-07-30 09:48:55,509 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=False, z_visible=False, undo_count=2
2025-07-30 09:48:55,555 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:48:55,595 - TornadoListener - INFO - ✅ Command e5f92967-5fc9-4d14-b398-e757431ff7a8 executed successfully
2025-07-30 09:48:57,647 - TornadoListener - INFO - Processing command: 8b40f447-963c-40f3-93aa-924e52a76a45 - update_slice_visibility
2025-07-30 09:48:57,686 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=True, z=None
2025-07-30 09:48:57,686 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=False, z_visible=False, undo_count=2
2025-07-30 09:48:57,686 - core.bookmark_engine_v2 - INFO - y_visible changed from False to True
2025-07-30 09:48:57,689 - core.bookmark_engine_v2 - INFO - History updated: length=4, index=3, can_undo=True, undo_count=3
2025-07-30 09:48:57,689 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=True, z_visible=False, undo_count=3
2025-07-30 09:48:57,735 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:48:57,773 - TornadoListener - INFO - ✅ Command 8b40f447-963c-40f3-93aa-924e52a76a45 executed successfully
2025-07-30 09:49:01,883 - TornadoListener - INFO - Processing command: 5ff493af-cdf3-4600-a498-72233847f092 - update_slice_visibility
2025-07-30 09:49:01,921 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=None, z=True
2025-07-30 09:49:01,921 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=False, undo_count=3
2025-07-30 09:49:01,922 - core.bookmark_engine_v2 - INFO - z_visible changed from False to True
2025-07-30 09:49:01,926 - core.bookmark_engine_v2 - INFO - History updated: length=5, index=4, can_undo=True, undo_count=4
2025-07-30 09:49:01,926 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=True, z_visible=True, undo_count=4
2025-07-30 09:49:01,970 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:49:02,005 - TornadoListener - INFO - ✅ Command 5ff493af-cdf3-4600-a498-72233847f092 executed successfully
2025-07-30 09:49:04,059 - TornadoListener - INFO - Processing command: 2edabc55-942b-4386-9304-f5dc9b33ff77 - undo
2025-07-30 09:49:04,097 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=4
2025-07-30 09:49:04,098 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=5, index=4, undo_count=4
2025-07-30 09:49:04,098 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=5, current_index=4, can_undo=True
2025-07-30 09:49:04,103 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 3
2025-07-30 09:49:04,103 - TornadoListener - INFO - 🔍 AFTER undo: history_length=5, index=3, undo_count=3
2025-07-30 09:49:04,103 - TornadoListener - INFO - ✅ Undo performed: new undo_count=3
2025-07-30 09:49:04,150 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:49:04,194 - TornadoListener - INFO - ✅ Command 2edabc55-942b-4386-9304-f5dc9b33ff77 executed successfully
2025-07-30 09:49:04,194 - TornadoListener - INFO - Processing command: 01d7085b-ac65-49d7-8bd5-351ecdcfbe69 - undo
2025-07-30 09:49:04,224 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=3
2025-07-30 09:49:04,224 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=5, index=3, undo_count=3
2025-07-30 09:49:04,224 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=5, current_index=3, can_undo=True
2025-07-30 09:49:04,229 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 2
2025-07-30 09:49:04,229 - TornadoListener - INFO - 🔍 AFTER undo: history_length=5, index=2, undo_count=2
2025-07-30 09:49:04,230 - TornadoListener - INFO - ✅ Undo performed: new undo_count=2
2025-07-30 09:49:04,276 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:49:04,315 - TornadoListener - INFO - ✅ Command 01d7085b-ac65-49d7-8bd5-351ecdcfbe69 executed successfully
2025-07-30 09:49:12,566 - TornadoListener - INFO - Processing command: c97c7d40-3f39-4f3c-ab73-4f465feab384 - update_slice_visibility
2025-07-30 09:49:12,600 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=True, z=None
2025-07-30 09:49:12,601 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=False, z_visible=False, undo_count=2
2025-07-30 09:49:12,601 - core.bookmark_engine_v2 - INFO - y_visible changed from False to True
2025-07-30 09:49:12,606 - core.bookmark_engine_v2 - INFO - History updated: length=4, index=3, can_undo=True, undo_count=3
2025-07-30 09:49:12,606 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=True, z_visible=False, undo_count=3
2025-07-30 09:49:12,653 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:49:12,686 - TornadoListener - INFO - ✅ Command c97c7d40-3f39-4f3c-ab73-4f465feab384 executed successfully
2025-07-30 09:49:16,805 - TornadoListener - INFO - Processing command: e3f8bb8f-c0c3-4440-bd0f-465b9ced6ad9 - undo
2025-07-30 09:49:16,845 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=3
2025-07-30 09:49:16,845 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=4, index=3, undo_count=3
2025-07-30 09:49:16,845 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=4, current_index=3, can_undo=True
2025-07-30 09:49:16,850 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 2
2025-07-30 09:49:16,850 - TornadoListener - INFO - 🔍 AFTER undo: history_length=4, index=2, undo_count=2
2025-07-30 09:49:16,850 - TornadoListener - INFO - ✅ Undo performed: new undo_count=2
2025-07-30 09:49:16,898 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:49:16,939 - TornadoListener - INFO - ✅ Command e3f8bb8f-c0c3-4440-bd0f-465b9ced6ad9 executed successfully
2025-07-30 09:49:16,940 - TornadoListener - INFO - Processing command: 184512ff-4b8e-48af-97e2-536e53e6e548 - undo
2025-07-30 09:49:16,973 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=2
2025-07-30 09:49:16,973 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=4, index=2, undo_count=2
2025-07-30 09:49:16,974 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=4, current_index=2, can_undo=True
2025-07-30 09:49:16,978 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 1
2025-07-30 09:49:16,978 - TornadoListener - INFO - 🔍 AFTER undo: history_length=4, index=1, undo_count=1
2025-07-30 09:49:16,979 - TornadoListener - INFO - ✅ Undo performed: new undo_count=1
2025-07-30 09:49:17,026 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:49:17,064 - TornadoListener - INFO - ✅ Command 184512ff-4b8e-48af-97e2-536e53e6e548 executed successfully
2025-07-30 09:49:23,227 - TornadoListener - INFO - Processing command: 7e758dab-2f66-45a1-a0bc-387f18cb4ae6 - redo_action
2025-07-30 09:49:23,262 - core.bookmark_engine_v2 - INFO - Redo: Advanced to history index 2
2025-07-30 09:49:23,305 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:49:23,342 - TornadoListener - INFO - ✅ Command 7e758dab-2f66-45a1-a0bc-387f18cb4ae6 executed successfully
2025-07-30 09:49:27,456 - TornadoListener - INFO - Processing command: 0cac805d-3e7c-4ae4-ae55-1668f356b45e - redo
2025-07-30 09:49:27,497 - core.bookmark_engine_v2 - INFO - Redo: Advanced to history index 3
2025-07-30 09:49:27,546 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:49:27,587 - TornadoListener - INFO - ✅ Command 0cac805d-3e7c-4ae4-ae55-1668f356b45e executed successfully
2025-07-30 09:49:27,587 - TornadoListener - INFO - Processing command: 303630ff-cd0e-4427-8b78-7680d1226356 - redo
2025-07-30 09:49:27,670 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:49:27,706 - TornadoListener - INFO - ✅ Command 303630ff-cd0e-4427-8b78-7680d1226356 executed successfully
2025-07-30 09:49:33,915 - TornadoListener - INFO - Processing command: 21f7b245-6c60-4c16-9865-854dfc4ef32e - undo
2025-07-30 09:49:33,954 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=3
2025-07-30 09:49:33,954 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=4, index=3, undo_count=3
2025-07-30 09:49:33,954 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=4, current_index=3, can_undo=True
2025-07-30 09:49:33,959 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 2
2025-07-30 09:49:33,959 - TornadoListener - INFO - 🔍 AFTER undo: history_length=4, index=2, undo_count=2
2025-07-30 09:49:33,959 - TornadoListener - INFO - ✅ Undo performed: new undo_count=2
2025-07-30 09:49:34,001 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:49:34,033 - TornadoListener - INFO - ✅ Command 21f7b245-6c60-4c16-9865-854dfc4ef32e executed successfully
2025-07-30 09:49:34,033 - TornadoListener - INFO - Processing command: cedc6eda-6178-4fe7-b6cb-20f06a413965 - undo
2025-07-30 09:49:34,068 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=2
2025-07-30 09:49:34,068 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=4, index=2, undo_count=2
2025-07-30 09:49:34,069 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=4, current_index=2, can_undo=True
2025-07-30 09:49:34,072 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 1
2025-07-30 09:49:34,072 - TornadoListener - INFO - 🔍 AFTER undo: history_length=4, index=1, undo_count=1
2025-07-30 09:49:34,072 - TornadoListener - INFO - ✅ Undo performed: new undo_count=1
2025-07-30 09:49:34,114 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:49:34,154 - TornadoListener - INFO - ✅ Command cedc6eda-6178-4fe7-b6cb-20f06a413965 executed successfully
2025-07-30 09:49:46,475 - TornadoListener - INFO - Processing command: d4dd7144-0d7a-4ce8-beb0-61457b671695 - update_slice_visibility
2025-07-30 09:49:46,510 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=True, y=None, z=None
2025-07-30 09:49:46,510 - TornadoListener - INFO - 📊 Before update: x_visible=False, y_visible=False, z_visible=False, undo_count=1
2025-07-30 09:49:46,510 - core.bookmark_engine_v2 - INFO - x_visible changed from False to True
2025-07-30 09:49:46,513 - core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-07-30 09:49:46,513 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=False, z_visible=False, undo_count=2
2025-07-30 09:49:46,559 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:49:46,596 - TornadoListener - INFO - ✅ Command d4dd7144-0d7a-4ce8-beb0-61457b671695 executed successfully
2025-07-30 09:49:50,744 - TornadoListener - INFO - Processing command: ec168590-4e1f-4d98-8ee5-232e94256376 - redo_action
2025-07-30 09:49:50,824 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:49:50,858 - TornadoListener - INFO - ✅ Command ec168590-4e1f-4d98-8ee5-232e94256376 executed successfully
2025-07-30 09:50:05,248 - TornadoListener - INFO - Processing command: 7a0824f0-0571-4424-9014-cac63ec5d387 - update_slice_visibility
2025-07-30 09:50:05,287 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=True, z=None
2025-07-30 09:50:05,287 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=False, z_visible=False, undo_count=2
2025-07-30 09:50:05,288 - core.bookmark_engine_v2 - INFO - y_visible changed from False to True
2025-07-30 09:50:05,292 - core.bookmark_engine_v2 - INFO - History updated: length=4, index=3, can_undo=True, undo_count=3
2025-07-30 09:50:05,293 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=True, z_visible=False, undo_count=3
2025-07-30 09:50:05,337 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:50:05,375 - TornadoListener - INFO - ✅ Command 7a0824f0-0571-4424-9014-cac63ec5d387 executed successfully
2025-07-30 09:50:09,479 - TornadoListener - INFO - Processing command: 5f0d6033-0c2c-4413-81a6-f0634afe61cf - update_slice_visibility
2025-07-30 09:50:09,513 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=None, z=True
2025-07-30 09:50:09,514 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=False, undo_count=3
2025-07-30 09:50:09,514 - core.bookmark_engine_v2 - INFO - z_visible changed from False to True
2025-07-30 09:50:09,517 - core.bookmark_engine_v2 - INFO - History updated: length=5, index=4, can_undo=True, undo_count=4
2025-07-30 09:50:09,517 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=True, z_visible=True, undo_count=4
2025-07-30 09:50:09,566 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:50:09,608 - TornadoListener - INFO - ✅ Command 5f0d6033-0c2c-4413-81a6-f0634afe61cf executed successfully
2025-07-30 09:50:24,006 - TornadoListener - INFO - Processing command: 33733794-3d9c-404c-b123-38b862792c4f - update_slice_visibility
2025-07-30 09:50:24,042 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=None, z=None
2025-07-30 09:50:24,042 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=True, undo_count=4
2025-07-30 09:50:24,042 - core.bookmark_engine_v2 - INFO - x_visible changed from True to False
2025-07-30 09:50:24,046 - core.bookmark_engine_v2 - INFO - History updated: length=6, index=5, can_undo=True, undo_count=5
2025-07-30 09:50:24,046 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=True, z_visible=True, undo_count=5
2025-07-30 09:50:24,094 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:50:24,134 - TornadoListener - INFO - ✅ Command 33733794-3d9c-404c-b123-38b862792c4f executed successfully
2025-07-30 09:50:30,301 - TornadoListener - INFO - Processing command: 8559bcd4-e182-4026-955f-e8563e66d9e1 - undo
2025-07-30 09:50:30,337 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=5
2025-07-30 09:50:30,337 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=6, index=5, undo_count=5
2025-07-30 09:50:30,338 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=6, current_index=5, can_undo=True
2025-07-30 09:50:30,340 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 4
2025-07-30 09:50:30,340 - TornadoListener - INFO - 🔍 AFTER undo: history_length=6, index=4, undo_count=4
2025-07-30 09:50:30,341 - TornadoListener - INFO - ✅ Undo performed: new undo_count=4
2025-07-30 09:50:30,386 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:50:30,423 - TornadoListener - INFO - ✅ Command 8559bcd4-e182-4026-955f-e8563e66d9e1 executed successfully
2025-07-30 09:50:30,424 - TornadoListener - INFO - Processing command: a23a4502-5a68-49fb-8b22-587af81b5105 - undo
2025-07-30 09:50:30,456 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=4
2025-07-30 09:50:30,456 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=6, index=4, undo_count=4
2025-07-30 09:50:30,457 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=6, current_index=4, can_undo=True
2025-07-30 09:50:30,461 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 3
2025-07-30 09:50:30,462 - TornadoListener - INFO - 🔍 AFTER undo: history_length=6, index=3, undo_count=3
2025-07-30 09:50:30,462 - TornadoListener - INFO - ✅ Undo performed: new undo_count=3
2025-07-30 09:50:30,507 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:50:30,545 - TornadoListener - INFO - ✅ Command a23a4502-5a68-49fb-8b22-587af81b5105 executed successfully
2025-07-30 09:50:34,690 - TornadoListener - INFO - Processing command: ae4de55f-59d5-4e11-b8af-8e6943bd9720 - undo
2025-07-30 09:50:34,728 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=3
2025-07-30 09:50:34,729 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=6, index=3, undo_count=3
2025-07-30 09:50:34,729 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=6, current_index=3, can_undo=True
2025-07-30 09:50:34,733 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 2
2025-07-30 09:50:34,734 - TornadoListener - INFO - 🔍 AFTER undo: history_length=6, index=2, undo_count=2
2025-07-30 09:50:34,734 - TornadoListener - INFO - ✅ Undo performed: new undo_count=2
2025-07-30 09:50:34,777 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:50:34,814 - TornadoListener - INFO - ✅ Command ae4de55f-59d5-4e11-b8af-8e6943bd9720 executed successfully
2025-07-30 09:50:34,815 - TornadoListener - INFO - Processing command: cad63995-57ad-4ac6-ab64-32c293b6314f - undo
2025-07-30 09:50:34,851 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=2
2025-07-30 09:50:34,851 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=6, index=2, undo_count=2
2025-07-30 09:50:34,852 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=6, current_index=2, can_undo=True
2025-07-30 09:50:34,856 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 1
2025-07-30 09:50:34,856 - TornadoListener - INFO - 🔍 AFTER undo: history_length=6, index=1, undo_count=1
2025-07-30 09:50:34,857 - TornadoListener - INFO - ✅ Undo performed: new undo_count=1
2025-07-30 09:50:34,901 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:50:34,937 - TornadoListener - INFO - ✅ Command cad63995-57ad-4ac6-ab64-32c293b6314f executed successfully
2025-07-30 09:58:43,942 - TornadoListener - INFO - Processing command: 3f45f208-3e96-4ba4-b1b2-cdf05ebb1d64 - undo
2025-07-30 09:58:43,979 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=1
2025-07-30 09:58:43,980 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=6, index=1, undo_count=1
2025-07-30 09:58:43,980 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=6, current_index=1, can_undo=True
2025-07-30 09:58:43,983 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 0
2025-07-30 09:58:43,983 - TornadoListener - INFO - 🔍 AFTER undo: history_length=6, index=0, undo_count=0
2025-07-30 09:58:43,984 - TornadoListener - INFO - ✅ Undo performed: new undo_count=0
2025-07-30 09:58:44,026 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:58:44,065 - TornadoListener - INFO - ✅ Command 3f45f208-3e96-4ba4-b1b2-cdf05ebb1d64 executed successfully
2025-07-30 09:58:44,065 - TornadoListener - INFO - Processing command: 6687c0c6-301f-4ee6-b05c-5d745dcef0a8 - undo
2025-07-30 09:58:44,101 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=False, undo_count=0
2025-07-30 09:58:44,101 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=6, index=0, undo_count=0
2025-07-30 09:58:44,102 - TornadoListener - WARNING - ❌ Cannot undo: undo_count=0
2025-07-30 09:58:44,145 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:58:44,183 - TornadoListener - INFO - ✅ Command 6687c0c6-301f-4ee6-b05c-5d745dcef0a8 executed successfully
2025-07-30 09:59:02,707 - TornadoListener - INFO - Processing command: a101c4cd-969a-4b07-ada3-bb95ac66adac - update_visibility
2025-07-30 09:59:02,747 - core.bookmark_engine_v2 - INFO - seismic_visible changed from True to False
2025-07-30 09:59:02,750 - core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-07-30 09:59:02,793 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:59:02,832 - TornadoListener - INFO - ✅ Command a101c4cd-969a-4b07-ada3-bb95ac66adac executed successfully
2025-07-30 09:59:23,396 - TornadoListener - INFO - Processing command: 7339e983-9a57-4074-81a1-2bb5f29f1ee1 - update_slice_visibility
2025-07-30 09:59:23,433 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=False, z=False
2025-07-30 09:59:23,434 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=False, undo_count=1
2025-07-30 09:59:23,434 - core.bookmark_engine_v2 - INFO - x_visible changed from True to False
2025-07-30 09:59:23,435 - core.bookmark_engine_v2 - INFO - y_visible changed from True to False
2025-07-30 09:59:23,435 - core.bookmark_engine_v2 - INFO - z_visible changed from False to False
2025-07-30 09:59:23,440 - core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-07-30 09:59:23,441 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=2
2025-07-30 09:59:23,491 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:59:23,529 - TornadoListener - INFO - ✅ Command 7339e983-9a57-4074-81a1-2bb5f29f1ee1 executed successfully
2025-07-30 09:59:29,716 - TornadoListener - INFO - Processing command: 0abc211e-d53e-46c2-814b-ef10652050fe - update_slice_visibility
2025-07-30 09:59:29,751 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=True, y=None, z=None
2025-07-30 09:59:29,751 - TornadoListener - INFO - 📊 Before update: x_visible=False, y_visible=False, z_visible=False, undo_count=2
2025-07-30 09:59:29,752 - core.bookmark_engine_v2 - INFO - x_visible changed from False to True
2025-07-30 09:59:29,755 - core.bookmark_engine_v2 - INFO - History updated: length=4, index=3, can_undo=True, undo_count=3
2025-07-30 09:59:29,755 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=False, z_visible=False, undo_count=3
2025-07-30 09:59:29,804 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:59:29,839 - TornadoListener - INFO - ✅ Command 0abc211e-d53e-46c2-814b-ef10652050fe executed successfully
2025-07-30 09:59:35,996 - TornadoListener - INFO - Processing command: 9f05e332-4b02-4f6f-81af-b40a39fcef7f - update_slice_visibility
2025-07-30 09:59:36,033 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=True, z=None
2025-07-30 09:59:36,033 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=False, z_visible=False, undo_count=3
2025-07-30 09:59:36,034 - core.bookmark_engine_v2 - INFO - y_visible changed from False to True
2025-07-30 09:59:36,038 - core.bookmark_engine_v2 - INFO - History updated: length=5, index=4, can_undo=True, undo_count=4
2025-07-30 09:59:36,039 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=True, z_visible=False, undo_count=4
2025-07-30 09:59:36,084 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:59:36,122 - TornadoListener - INFO - ✅ Command 9f05e332-4b02-4f6f-81af-b40a39fcef7f executed successfully
2025-07-30 09:59:38,180 - TornadoListener - INFO - Processing command: eac08307-39fd-4019-83ed-d5639a656372 - update_slice_visibility
2025-07-30 09:59:38,219 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=None, z=True
2025-07-30 09:59:38,219 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=False, undo_count=4
2025-07-30 09:59:38,219 - core.bookmark_engine_v2 - INFO - z_visible changed from False to True
2025-07-30 09:59:38,222 - core.bookmark_engine_v2 - INFO - History updated: length=6, index=5, can_undo=True, undo_count=5
2025-07-30 09:59:38,223 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=True, z_visible=True, undo_count=5
2025-07-30 09:59:38,268 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:59:38,305 - TornadoListener - INFO - ✅ Command eac08307-39fd-4019-83ed-d5639a656372 executed successfully
2025-07-30 09:59:44,459 - TornadoListener - INFO - Processing command: 8385126d-4b01-42c9-a4f0-023c7834dd7e - undo
2025-07-30 09:59:44,495 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=5
2025-07-30 09:59:44,495 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=6, index=5, undo_count=5
2025-07-30 09:59:44,495 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=6, current_index=5, can_undo=True
2025-07-30 09:59:44,499 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 4
2025-07-30 09:59:44,499 - TornadoListener - INFO - 🔍 AFTER undo: history_length=6, index=4, undo_count=4
2025-07-30 09:59:44,499 - TornadoListener - INFO - ✅ Undo performed: new undo_count=4
2025-07-30 09:59:44,542 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:59:44,577 - TornadoListener - INFO - ✅ Command 8385126d-4b01-42c9-a4f0-023c7834dd7e executed successfully
2025-07-30 09:59:44,577 - TornadoListener - INFO - Processing command: abe449c9-abea-45ae-9336-458d15eee9f1 - undo
2025-07-30 09:59:44,611 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=4
2025-07-30 09:59:44,611 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=6, index=4, undo_count=4
2025-07-30 09:59:44,612 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=6, current_index=4, can_undo=True
2025-07-30 09:59:44,616 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 3
2025-07-30 09:59:44,616 - TornadoListener - INFO - 🔍 AFTER undo: history_length=6, index=3, undo_count=3
2025-07-30 09:59:44,617 - TornadoListener - INFO - ✅ Undo performed: new undo_count=3
2025-07-30 09:59:44,665 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:59:44,702 - TornadoListener - INFO - ✅ Command abe449c9-abea-45ae-9336-458d15eee9f1 executed successfully
2025-07-30 09:59:52,955 - TornadoListener - INFO - Processing command: f7ae943a-7b18-460b-bf71-d90fbe394a84 - undo
2025-07-30 09:59:52,991 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=3
2025-07-30 09:59:52,991 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=6, index=3, undo_count=3
2025-07-30 09:59:52,991 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=6, current_index=3, can_undo=True
2025-07-30 09:59:52,994 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 2
2025-07-30 09:59:52,994 - TornadoListener - INFO - 🔍 AFTER undo: history_length=6, index=2, undo_count=2
2025-07-30 09:59:52,995 - TornadoListener - INFO - ✅ Undo performed: new undo_count=2
2025-07-30 09:59:53,039 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:59:53,077 - TornadoListener - INFO - ✅ Command f7ae943a-7b18-460b-bf71-d90fbe394a84 executed successfully
2025-07-30 09:59:53,077 - TornadoListener - INFO - Processing command: 0109b3f6-31b1-4eb1-9806-3c4a30c1c1f3 - undo
2025-07-30 09:59:53,112 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=2
2025-07-30 09:59:53,112 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=6, index=2, undo_count=2
2025-07-30 09:59:53,112 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=6, current_index=2, can_undo=True
2025-07-30 09:59:53,117 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 1
2025-07-30 09:59:53,117 - TornadoListener - INFO - 🔍 AFTER undo: history_length=6, index=1, undo_count=1
2025-07-30 09:59:53,117 - TornadoListener - INFO - ✅ Undo performed: new undo_count=1
2025-07-30 09:59:53,165 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 09:59:53,200 - TornadoListener - INFO - ✅ Command 0109b3f6-31b1-4eb1-9806-3c4a30c1c1f3 executed successfully
2025-07-30 10:00:03,468 - TornadoListener - INFO - Processing command: 6db15bc2-02c8-4b5c-9cc0-4d975b2349ba - undo
2025-07-30 10:00:03,485 - database.command_queue_manager - WARNING - ⚠️ Command status update failed for 6db15bc2-02c8-4b5c-9cc0-4d975b2349ba, but continuing execution
2025-07-30 10:00:03,485 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=1
2025-07-30 10:00:03,486 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=6, index=1, undo_count=1
2025-07-30 10:00:03,486 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=6, current_index=1, can_undo=True
2025-07-30 10:00:03,490 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 0
2025-07-30 10:00:03,490 - TornadoListener - INFO - 🔍 AFTER undo: history_length=6, index=0, undo_count=0
2025-07-30 10:00:03,491 - TornadoListener - INFO - ✅ Undo performed: new undo_count=0
2025-07-30 10:00:03,538 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:00:03,577 - TornadoListener - INFO - ✅ Command 6db15bc2-02c8-4b5c-9cc0-4d975b2349ba executed successfully
2025-07-30 10:00:03,578 - TornadoListener - INFO - Processing command: 5b79a387-1ba6-4b27-8349-967a49a8672a - undo
2025-07-30 10:00:03,616 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=False, undo_count=0
2025-07-30 10:00:03,616 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=6, index=0, undo_count=0
2025-07-30 10:00:03,617 - TornadoListener - WARNING - ❌ Cannot undo: undo_count=0
2025-07-30 10:00:03,666 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:00:03,704 - TornadoListener - INFO - ✅ Command 5b79a387-1ba6-4b27-8349-967a49a8672a executed successfully
2025-07-30 10:00:11,957 - TornadoListener - INFO - Processing command: 461817e7-84da-47bc-a68e-48af750254c8 - update_slice_visibility
2025-07-30 10:00:11,992 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=None, z=True
2025-07-30 10:00:11,993 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=False, undo_count=0
2025-07-30 10:00:11,993 - core.bookmark_engine_v2 - INFO - z_visible changed from False to True
2025-07-30 10:00:11,997 - core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-07-30 10:00:11,997 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=True, z_visible=True, undo_count=1
2025-07-30 10:00:12,044 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:00:12,082 - TornadoListener - INFO - ✅ Command 461817e7-84da-47bc-a68e-48af750254c8 executed successfully
2025-07-30 10:04:04,156 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-07-30 10:04:04,157 - TornadoListener - INFO - Cleaning up resources...
2025-07-30 10:04:04,196 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-07-30 10:04:05,869 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-07-30 10:04:05,870 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-07-30 10:04:05,870 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-07-30 10:04:05,870 - TornadoListener - INFO - Initializing SQLite database connection...
2025-07-30 10:04:05,938 - TornadoListener - INFO - ✅ SQLite database connection established
2025-07-30 10:04:05,984 - TornadoListener - INFO - Initializing bookmark engine...
2025-07-30 10:04:06,032 - core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=0, index=-1
2025-07-30 10:04:06,032 - core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-07-30 10:04:06,037 - core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-07-30 10:04:06,037 - core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-07-30 10:04:06,038 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-07-30 10:04:06,038 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-07-30 10:04:06,038 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-07-30 10:04:20,474 - TornadoListener - INFO - Processing command: 3f3a1e01-13f4-4cec-922d-236ca9f6cfa0 - update_slice_visibility
2025-07-30 10:04:20,512 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=None, z=None
2025-07-30 10:04:20,513 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=False, undo_count=0
2025-07-30 10:04:20,513 - core.bookmark_engine_v2 - INFO - x_visible changed from True to False
2025-07-30 10:04:20,517 - core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-07-30 10:04:20,518 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=True, z_visible=False, undo_count=1
2025-07-30 10:04:20,566 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:04:20,607 - TornadoListener - INFO - ✅ Command 3f3a1e01-13f4-4cec-922d-236ca9f6cfa0 executed successfully
2025-07-30 10:04:26,806 - TornadoListener - INFO - Processing command: e73835c8-4d8d-4637-806a-97385bcfb3bc - update_slice_visibility
2025-07-30 10:04:26,843 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=False, z=None
2025-07-30 10:04:26,843 - TornadoListener - INFO - 📊 Before update: x_visible=False, y_visible=True, z_visible=False, undo_count=1
2025-07-30 10:04:26,844 - core.bookmark_engine_v2 - INFO - y_visible changed from True to False
2025-07-30 10:04:26,848 - core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-07-30 10:04:26,848 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=2
2025-07-30 10:04:26,896 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:04:26,933 - TornadoListener - INFO - ✅ Command e73835c8-4d8d-4637-806a-97385bcfb3bc executed successfully
2025-07-30 10:04:37,221 - TornadoListener - INFO - Processing command: bced9a12-b0c2-499b-84c4-2d824d570655 - update_slice_visibility
2025-07-30 10:04:37,242 - database.command_queue_manager - WARNING - ⚠️ Command status update failed for bced9a12-b0c2-499b-84c4-2d824d570655, but continuing execution
2025-07-30 10:04:37,242 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=None, z=False
2025-07-30 10:04:37,242 - TornadoListener - INFO - 📊 Before update: x_visible=False, y_visible=False, z_visible=False, undo_count=2
2025-07-30 10:04:37,242 - core.bookmark_engine_v2 - INFO - z_visible changed from False to False
2025-07-30 10:04:37,247 - core.bookmark_engine_v2 - INFO - History updated: length=4, index=3, can_undo=True, undo_count=3
2025-07-30 10:04:37,247 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=3
2025-07-30 10:04:37,294 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:04:37,332 - TornadoListener - INFO - ✅ Command bced9a12-b0c2-499b-84c4-2d824d570655 executed successfully
2025-07-30 10:04:49,680 - TornadoListener - INFO - Processing command: a42fbe54-f79c-4bdc-9874-0794dbdd98db - undo
2025-07-30 10:04:49,716 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=3
2025-07-30 10:04:49,717 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=4, index=3, undo_count=3
2025-07-30 10:04:49,717 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=4, current_index=3, can_undo=True
2025-07-30 10:04:49,721 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 2
2025-07-30 10:04:49,721 - TornadoListener - INFO - 🔍 AFTER undo: history_length=4, index=2, undo_count=2
2025-07-30 10:04:49,722 - TornadoListener - INFO - ✅ Undo performed: new undo_count=2
2025-07-30 10:04:49,765 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:04:49,806 - TornadoListener - INFO - ✅ Command a42fbe54-f79c-4bdc-9874-0794dbdd98db executed successfully
2025-07-30 10:04:49,806 - TornadoListener - INFO - Processing command: 7413afbc-86b4-4ce5-875b-c0e6ed99d547 - undo
2025-07-30 10:04:49,843 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=2
2025-07-30 10:04:49,844 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=4, index=2, undo_count=2
2025-07-30 10:04:49,844 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=4, current_index=2, can_undo=True
2025-07-30 10:04:49,848 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 1
2025-07-30 10:04:49,848 - TornadoListener - INFO - 🔍 AFTER undo: history_length=4, index=1, undo_count=1
2025-07-30 10:04:49,848 - TornadoListener - INFO - ✅ Undo performed: new undo_count=1
2025-07-30 10:04:49,896 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:04:49,932 - TornadoListener - INFO - ✅ Command 7413afbc-86b4-4ce5-875b-c0e6ed99d547 executed successfully
2025-07-30 10:05:47,668 - TornadoListener - WARNING - Failed to update system status: unable to open database file
2025-07-30 10:08:54,972 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-07-30 10:08:54,973 - TornadoListener - INFO - Cleaning up resources...
2025-07-30 10:08:55,015 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-07-30 10:08:56,922 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-07-30 10:08:56,923 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-07-30 10:08:56,923 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-07-30 10:08:56,923 - TornadoListener - INFO - Initializing SQLite database connection...
2025-07-30 10:08:56,993 - TornadoListener - INFO - ✅ SQLite database connection established
2025-07-30 10:08:57,039 - TornadoListener - INFO - Initializing bookmark engine...
2025-07-30 10:08:57,085 - core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=0, index=-1
2025-07-30 10:08:57,085 - core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-07-30 10:08:57,090 - core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-07-30 10:08:57,090 - core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-07-30 10:08:57,091 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-07-30 10:08:57,091 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-07-30 10:08:57,091 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-07-30 10:09:21,856 - TornadoListener - INFO - Processing command: 66c31d1b-3cbd-4e65-b94b-80e953673359 - update_slice_visibility
2025-07-30 10:09:21,877 - database.command_queue_manager - WARNING - ⚠️ Command status update failed for 66c31d1b-3cbd-4e65-b94b-80e953673359, but continuing execution
2025-07-30 10:09:21,877 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=None, z=None
2025-07-30 10:09:21,878 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=False, undo_count=0
2025-07-30 10:09:21,878 - core.bookmark_engine_v2 - INFO - x_visible changed from True to False
2025-07-30 10:09:21,883 - core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-07-30 10:09:21,883 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=True, z_visible=False, undo_count=1
2025-07-30 10:09:21,938 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:09:21,981 - TornadoListener - INFO - ✅ Command 66c31d1b-3cbd-4e65-b94b-80e953673359 executed successfully
2025-07-30 10:09:28,168 - TornadoListener - INFO - Processing command: bf7ee2bc-d0e7-48a1-9970-5c0dd904623b - update_slice_visibility
2025-07-30 10:09:28,211 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=False, z=None
2025-07-30 10:09:28,211 - TornadoListener - INFO - 📊 Before update: x_visible=False, y_visible=True, z_visible=False, undo_count=1
2025-07-30 10:09:28,212 - core.bookmark_engine_v2 - INFO - y_visible changed from True to False
2025-07-30 10:09:28,217 - core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-07-30 10:09:28,217 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=2
2025-07-30 10:09:28,289 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:09:28,340 - TornadoListener - INFO - ✅ Command bf7ee2bc-d0e7-48a1-9970-5c0dd904623b executed successfully
2025-07-30 10:09:36,569 - TornadoListener - INFO - Processing command: 03cc5bb6-9093-44d7-9465-72a181f3b379 - update_slice_visibility
2025-07-30 10:09:36,606 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=None, z=False
2025-07-30 10:09:36,606 - TornadoListener - INFO - 📊 Before update: x_visible=False, y_visible=False, z_visible=False, undo_count=2
2025-07-30 10:09:36,606 - core.bookmark_engine_v2 - INFO - z_visible changed from False to False
2025-07-30 10:09:36,609 - core.bookmark_engine_v2 - INFO - History updated: length=4, index=3, can_undo=True, undo_count=3
2025-07-30 10:09:36,610 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=3
2025-07-30 10:09:36,655 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:09:36,691 - TornadoListener - INFO - ✅ Command 03cc5bb6-9093-44d7-9465-72a181f3b379 executed successfully
2025-07-30 10:09:40,841 - TornadoListener - INFO - Processing command: 381cde95-4999-46e6-a635-7eb3302c73cc - undo
2025-07-30 10:09:40,879 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=3
2025-07-30 10:09:40,879 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=4, index=3, undo_count=3
2025-07-30 10:09:40,880 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=4, current_index=3, can_undo=True
2025-07-30 10:09:40,884 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 2
2025-07-30 10:09:40,885 - TornadoListener - INFO - 🔍 AFTER undo: history_length=4, index=2, undo_count=2
2025-07-30 10:09:40,885 - TornadoListener - INFO - ✅ Undo performed: new undo_count=2
2025-07-30 10:09:40,934 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:09:40,973 - TornadoListener - INFO - ✅ Command 381cde95-4999-46e6-a635-7eb3302c73cc executed successfully
2025-07-30 10:09:40,973 - TornadoListener - INFO - Processing command: c37d07ae-754f-462d-ab42-7010be31af3e - undo
2025-07-30 10:09:40,984 - database.command_queue_manager - WARNING - ⚠️ Command status update failed for c37d07ae-754f-462d-ab42-7010be31af3e, but continuing execution
2025-07-30 10:09:40,985 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=2
2025-07-30 10:09:40,985 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=4, index=2, undo_count=2
2025-07-30 10:09:40,986 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=4, current_index=2, can_undo=True
2025-07-30 10:09:40,990 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 1
2025-07-30 10:09:40,990 - TornadoListener - INFO - 🔍 AFTER undo: history_length=4, index=1, undo_count=1
2025-07-30 10:09:40,991 - TornadoListener - INFO - ✅ Undo performed: new undo_count=1
2025-07-30 10:09:41,038 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:09:41,080 - TornadoListener - INFO - ✅ Command c37d07ae-754f-462d-ab42-7010be31af3e executed successfully
2025-07-30 10:12:02,626 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-07-30 10:12:02,627 - TornadoListener - INFO - Cleaning up resources...
2025-07-30 10:12:02,670 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-07-30 10:12:04,063 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-07-30 10:12:04,063 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-07-30 10:12:04,064 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-07-30 10:12:04,064 - TornadoListener - INFO - Initializing SQLite database connection...
2025-07-30 10:12:04,128 - TornadoListener - INFO - ✅ SQLite database connection established
2025-07-30 10:12:04,170 - TornadoListener - INFO - Initializing bookmark engine...
2025-07-30 10:12:04,218 - core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=0, index=-1
2025-07-30 10:12:04,219 - core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-07-30 10:12:04,224 - core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-07-30 10:12:04,225 - core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-07-30 10:12:04,225 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-07-30 10:12:04,225 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-07-30 10:12:04,226 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-07-30 10:12:14,559 - TornadoListener - INFO - Processing command: d1849709-7c23-4b14-82e0-176030c687db - undo
2025-07-30 10:12:14,594 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=False, undo_count=0
2025-07-30 10:12:14,595 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=1, index=0, undo_count=0
2025-07-30 10:12:14,595 - TornadoListener - WARNING - ❌ Cannot undo: undo_count=0
2025-07-30 10:12:14,644 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:12:14,682 - TornadoListener - INFO - ✅ Command d1849709-7c23-4b14-82e0-176030c687db executed successfully
2025-07-30 10:12:14,683 - TornadoListener - INFO - Processing command: 95c4b8ef-8a77-4745-a48a-2c971222075e - undo
2025-07-30 10:12:14,722 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=False, undo_count=0
2025-07-30 10:12:14,722 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=1, index=0, undo_count=0
2025-07-30 10:12:14,723 - TornadoListener - WARNING - ❌ Cannot undo: undo_count=0
2025-07-30 10:12:14,772 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:12:14,815 - TornadoListener - INFO - ✅ Command 95c4b8ef-8a77-4745-a48a-2c971222075e executed successfully
2025-07-30 10:12:20,990 - TornadoListener - INFO - Processing command: c2924f99-cc44-4170-843d-06c16a94dd5e - update_slice_visibility
2025-07-30 10:12:21,026 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=False, z=None
2025-07-30 10:12:21,027 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=False, undo_count=0
2025-07-30 10:12:21,027 - core.bookmark_engine_v2 - INFO - y_visible changed from True to False
2025-07-30 10:12:21,030 - core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-07-30 10:12:21,030 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=False, z_visible=False, undo_count=1
2025-07-30 10:12:21,800 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:12:21,846 - TornadoListener - INFO - ✅ Command c2924f99-cc44-4170-843d-06c16a94dd5e executed successfully
2025-07-30 10:12:36,272 - TornadoListener - INFO - Processing command: 94a91f10-7831-460e-b6aa-d4a6eecce34c - update_slice_visibility
2025-07-30 10:12:36,310 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=None, z=None
2025-07-30 10:12:36,311 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=False, z_visible=False, undo_count=1
2025-07-30 10:12:36,311 - core.bookmark_engine_v2 - INFO - x_visible changed from True to False
2025-07-30 10:12:36,314 - core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-07-30 10:12:36,315 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=2
2025-07-30 10:12:36,360 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:12:36,400 - TornadoListener - INFO - ✅ Command 94a91f10-7831-460e-b6aa-d4a6eecce34c executed successfully
2025-07-30 10:12:42,571 - TornadoListener - INFO - Processing command: d9d3cc3a-318e-4633-93ff-f0f63aaf0720 - update_slice_visibility
2025-07-30 10:12:42,607 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=None, z=False
2025-07-30 10:12:42,608 - TornadoListener - INFO - 📊 Before update: x_visible=False, y_visible=False, z_visible=False, undo_count=2
2025-07-30 10:12:42,608 - core.bookmark_engine_v2 - INFO - z_visible changed from False to False
2025-07-30 10:12:42,613 - core.bookmark_engine_v2 - INFO - History updated: length=4, index=3, can_undo=True, undo_count=3
2025-07-30 10:12:42,613 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=3
2025-07-30 10:12:42,660 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:12:42,698 - TornadoListener - INFO - ✅ Command d9d3cc3a-318e-4633-93ff-f0f63aaf0720 executed successfully
2025-07-30 10:12:53,006 - TornadoListener - INFO - Processing command: 8875e27c-4cab-472f-8a90-4e1b48b5bdac - undo
2025-07-30 10:12:53,043 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=3
2025-07-30 10:12:53,044 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=4, index=3, undo_count=3
2025-07-30 10:12:53,044 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=4, current_index=3, can_undo=True
2025-07-30 10:12:53,048 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 2
2025-07-30 10:12:53,048 - TornadoListener - INFO - 🔍 AFTER undo: history_length=4, index=2, undo_count=2
2025-07-30 10:12:53,049 - TornadoListener - INFO - ✅ Undo performed: new undo_count=2
2025-07-30 10:12:53,094 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:12:53,136 - TornadoListener - INFO - ✅ Command 8875e27c-4cab-472f-8a90-4e1b48b5bdac executed successfully
2025-07-30 10:12:53,136 - TornadoListener - INFO - Processing command: 4562d2f7-1872-44b7-9ec7-d47b3fe2782c - undo
2025-07-30 10:12:53,173 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=2
2025-07-30 10:12:53,174 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=4, index=2, undo_count=2
2025-07-30 10:12:53,174 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=4, current_index=2, can_undo=True
2025-07-30 10:12:53,178 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 1
2025-07-30 10:12:53,178 - TornadoListener - INFO - 🔍 AFTER undo: history_length=4, index=1, undo_count=1
2025-07-30 10:12:53,179 - TornadoListener - INFO - ✅ Undo performed: new undo_count=1
2025-07-30 10:12:53,228 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:12:53,265 - TornadoListener - INFO - ✅ Command 4562d2f7-1872-44b7-9ec7-d47b3fe2782c executed successfully
2025-07-30 10:13:13,866 - TornadoListener - INFO - Processing command: 147a9a11-8bf6-45cb-910e-a2067338a157 - undo
2025-07-30 10:13:13,904 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=1
2025-07-30 10:13:13,905 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=4, index=1, undo_count=1
2025-07-30 10:13:13,905 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=4, current_index=1, can_undo=True
2025-07-30 10:13:13,910 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 0
2025-07-30 10:13:13,910 - TornadoListener - INFO - 🔍 AFTER undo: history_length=4, index=0, undo_count=0
2025-07-30 10:13:13,910 - TornadoListener - INFO - ✅ Undo performed: new undo_count=0
2025-07-30 10:13:13,959 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:13:13,999 - TornadoListener - INFO - ✅ Command 147a9a11-8bf6-45cb-910e-a2067338a157 executed successfully
2025-07-30 10:13:14,000 - TornadoListener - INFO - Processing command: 8a8c26f3-202d-49ce-87be-d1028d416fa7 - undo
2025-07-30 10:13:14,040 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=False, undo_count=0
2025-07-30 10:13:14,041 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=4, index=0, undo_count=0
2025-07-30 10:13:14,041 - TornadoListener - WARNING - ❌ Cannot undo: undo_count=0
2025-07-30 10:13:14,090 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:13:14,130 - TornadoListener - INFO - ✅ Command 8a8c26f3-202d-49ce-87be-d1028d416fa7 executed successfully
2025-07-30 10:16:19,438 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-07-30 10:16:19,439 - TornadoListener - INFO - Cleaning up resources...
2025-07-30 10:16:19,479 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-07-30 10:16:21,371 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-07-30 10:16:21,371 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-07-30 10:16:21,371 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-07-30 10:16:21,372 - TornadoListener - INFO - Initializing SQLite database connection...
2025-07-30 10:16:21,432 - TornadoListener - INFO - ✅ SQLite database connection established
2025-07-30 10:16:21,477 - TornadoListener - INFO - Initializing bookmark engine...
2025-07-30 10:16:21,537 - core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=0, index=-1
2025-07-30 10:16:21,537 - core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-07-30 10:16:21,543 - core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-07-30 10:16:21,544 - core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-07-30 10:16:21,544 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-07-30 10:16:21,545 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-07-30 10:16:21,545 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-07-30 10:16:36,028 - TornadoListener - INFO - Processing command: ea7f20eb-8c20-4cbc-a0bd-8f421021e221 - update_slice_visibility
2025-07-30 10:16:36,066 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=False, z=False
2025-07-30 10:16:36,067 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=False, undo_count=0
2025-07-30 10:16:36,067 - core.bookmark_engine_v2 - INFO - x_visible changed from True to False
2025-07-30 10:16:36,067 - core.bookmark_engine_v2 - INFO - y_visible changed from True to False
2025-07-30 10:16:36,067 - core.bookmark_engine_v2 - INFO - z_visible changed from False to False
2025-07-30 10:16:36,073 - core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-07-30 10:16:36,073 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=1
2025-07-30 10:16:36,121 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:16:36,159 - TornadoListener - INFO - ✅ Command ea7f20eb-8c20-4cbc-a0bd-8f421021e221 executed successfully
2025-07-30 10:16:44,423 - TornadoListener - INFO - Processing command: 3b5f7a46-57ee-4761-a186-f51a1e3a47fc - undo
2025-07-30 10:16:44,461 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=1
2025-07-30 10:16:44,461 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=2, index=1, undo_count=1
2025-07-30 10:16:44,462 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=2, current_index=1, can_undo=True
2025-07-30 10:16:44,466 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 0
2025-07-30 10:16:44,466 - TornadoListener - INFO - 🔍 AFTER undo: history_length=2, index=0, undo_count=0
2025-07-30 10:16:44,467 - TornadoListener - INFO - ✅ Undo performed: new undo_count=0
2025-07-30 10:16:44,515 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:16:44,556 - TornadoListener - INFO - ✅ Command 3b5f7a46-57ee-4761-a186-f51a1e3a47fc executed successfully
2025-07-30 10:16:44,556 - TornadoListener - INFO - Processing command: 7d2ea4b2-9c1d-4b2b-92c6-b1e3921c7506 - undo
2025-07-30 10:16:44,595 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=False, undo_count=0
2025-07-30 10:16:44,596 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=2, index=0, undo_count=0
2025-07-30 10:16:44,596 - TornadoListener - WARNING - ❌ Cannot undo: undo_count=0
2025-07-30 10:16:44,643 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 10:16:44,653 - database.command_queue_manager - WARNING - ⚠️ Command status update failed for 7d2ea4b2-9c1d-4b2b-92c6-b1e3921c7506, but continuing execution
2025-07-30 10:16:44,654 - TornadoListener - INFO - ✅ Command 7d2ea4b2-9c1d-4b2b-92c6-b1e3921c7506 executed successfully
2025-07-30 10:16:57,050 - TornadoListener - INFO - 📤 Processed template request: 2 templates
2025-07-30 10:17:07,444 - TornadoListener - INFO - 📤 Processed template request: 2 templates
2025-07-30 10:17:15,745 - TornadoListener - INFO - 📤 Processed template request: 2 templates
2025-07-30 10:19:04,857 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-07-30 10:19:04,857 - TornadoListener - INFO - Cleaning up resources...
2025-07-30 10:19:04,900 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-07-30 17:45:40,630 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-07-30 17:45:40,630 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-07-30 17:45:40,631 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-07-30 17:45:40,631 - TornadoListener - INFO - Initializing SQLite database connection...
2025-07-30 17:45:40,672 - TornadoListener - INFO - ✅ SQLite database connection established
2025-07-30 17:45:40,705 - TornadoListener - INFO - Initializing bookmark engine...
2025-07-30 17:45:40,779 - core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=0, index=-1
2025-07-30 17:45:40,779 - core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-07-30 17:45:40,784 - core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-07-30 17:45:40,784 - core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-07-30 17:45:40,785 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-07-30 17:45:40,785 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-07-30 17:45:40,785 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-07-30 17:53:35,484 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-07-30 17:53:35,484 - TornadoListener - INFO - Cleaning up resources...
2025-07-30 17:53:35,514 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-07-30 17:53:37,045 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-07-30 17:53:37,046 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-07-30 17:53:37,046 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-07-30 17:53:37,046 - TornadoListener - INFO - Initializing SQLite database connection...
2025-07-30 17:53:37,082 - TornadoListener - INFO - ✅ SQLite database connection established
2025-07-30 17:53:37,112 - TornadoListener - INFO - Initializing bookmark engine...
2025-07-30 17:53:37,153 - core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=0, index=-1
2025-07-30 17:53:37,154 - core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-07-30 17:53:37,157 - core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-07-30 17:53:37,157 - core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-07-30 17:53:37,157 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-07-30 17:53:37,158 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-07-30 17:53:37,158 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-07-30 17:54:01,590 - TornadoListener - INFO - Processing command: 368dbd39-9a2a-41ae-8171-33f31ab58ca1 - update_slice_visibility
2025-07-30 17:54:01,590 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 368dbd39-9a2a-41ae-8171-33f31ab58ca1: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-07-30 17:54:01,590 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=False, z=False
2025-07-30 17:54:01,591 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=False, undo_count=0
2025-07-30 17:54:01,591 - core.bookmark_engine_v2 - INFO - x_visible changed from True to False
2025-07-30 17:54:01,591 - core.bookmark_engine_v2 - INFO - y_visible changed from True to False
2025-07-30 17:54:01,591 - core.bookmark_engine_v2 - INFO - z_visible changed from False to False
2025-07-30 17:54:01,596 - core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-07-30 17:54:01,596 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=1
2025-07-30 17:54:01,639 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 17:54:01,666 - TornadoListener - INFO - ✅ Command 368dbd39-9a2a-41ae-8171-33f31ab58ca1 executed successfully
2025-07-30 17:56:03,829 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-07-30 17:56:03,829 - TornadoListener - INFO - Cleaning up resources...
2025-07-30 17:56:03,862 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-07-30 17:57:51,019 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-07-30 17:57:51,019 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-07-30 17:57:51,020 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-07-30 17:57:51,020 - TornadoListener - INFO - Initializing SQLite database connection...
2025-07-30 17:57:51,059 - TornadoListener - INFO - ✅ SQLite database connection established
2025-07-30 17:57:51,088 - TornadoListener - INFO - Initializing bookmark engine...
2025-07-30 17:57:51,123 - core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=0, index=-1
2025-07-30 17:57:51,124 - core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-07-30 17:57:51,128 - core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-07-30 17:57:51,129 - core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-07-30 17:57:51,129 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-07-30 17:57:51,129 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-07-30 17:57:51,129 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-07-30 17:58:07,404 - TornadoListener - INFO - Processing command: 3cea12cd-17fb-47bd-bbfc-b34cd11bf12f - undo
2025-07-30 17:58:07,404 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 3cea12cd-17fb-47bd-bbfc-b34cd11bf12f: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-07-30 17:58:07,405 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=False, undo_count=0
2025-07-30 17:58:07,405 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=1, index=0, undo_count=0
2025-07-30 17:58:07,405 - TornadoListener - WARNING - ❌ Cannot undo: undo_count=0
2025-07-30 17:58:07,443 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 17:58:07,473 - TornadoListener - INFO - ✅ Command 3cea12cd-17fb-47bd-bbfc-b34cd11bf12f executed successfully
2025-07-30 17:58:07,474 - TornadoListener - INFO - Processing command: ec68a318-0447-488c-9e1d-ddd808a3bfec - undo
2025-07-30 17:58:07,474 - TornadoListener - WARNING - ⚠️ Could not update status to processing for ec68a318-0447-488c-9e1d-ddd808a3bfec: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-07-30 17:58:07,474 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=False, undo_count=0
2025-07-30 17:58:07,475 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=1, index=0, undo_count=0
2025-07-30 17:58:07,475 - TornadoListener - WARNING - ❌ Cannot undo: undo_count=0
2025-07-30 17:58:07,509 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 17:58:07,538 - TornadoListener - INFO - ✅ Command ec68a318-0447-488c-9e1d-ddd808a3bfec executed successfully
2025-07-30 17:58:17,751 - TornadoListener - INFO - Processing command: 10df4332-b97f-4fa7-b9e2-78883ec1d3d5 - rotate_left
2025-07-30 17:58:17,751 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 10df4332-b97f-4fa7-b9e2-78883ec1d3d5: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-07-30 17:58:17,751 - core.bookmark_engine_v2 - INFO - Position changed from (0.0, 0.39269908169872414, -0.7853981633974483) to (0.0, 0.39269908169872414, -0.8853981633974483)
2025-07-30 17:58:17,756 - core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-07-30 17:58:17,794 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 17:58:17,828 - TornadoListener - INFO - ✅ Command 10df4332-b97f-4fa7-b9e2-78883ec1d3d5 executed successfully
2025-07-30 17:58:21,891 - TornadoListener - INFO - Processing command: a3990771-ce0c-4f2d-942b-6831a099c028 - undo
2025-07-30 17:58:21,891 - TornadoListener - WARNING - ⚠️ Could not update status to processing for a3990771-ce0c-4f2d-942b-6831a099c028: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-07-30 17:58:21,892 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=1
2025-07-30 17:58:21,892 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=2, index=1, undo_count=1
2025-07-30 17:58:21,892 - core.bookmark_engine_v2 - INFO - Undo requested: history_length=2, current_index=1, can_undo=True
2025-07-30 17:58:21,897 - core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 0
2025-07-30 17:58:21,897 - TornadoListener - INFO - 🔍 AFTER undo: history_length=2, index=0, undo_count=0
2025-07-30 17:58:21,898 - TornadoListener - INFO - ✅ Undo performed: new undo_count=0
2025-07-30 17:58:21,940 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 17:58:21,966 - TornadoListener - INFO - ✅ Command a3990771-ce0c-4f2d-942b-6831a099c028 executed successfully
2025-07-30 17:58:21,966 - TornadoListener - INFO - Processing command: 0165dcf3-8f53-4941-953e-0a955676dc97 - undo
2025-07-30 17:58:21,966 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 0165dcf3-8f53-4941-953e-0a955676dc97: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-07-30 17:58:21,967 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=False, undo_count=0
2025-07-30 17:58:21,967 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=2, index=0, undo_count=0
2025-07-30 17:58:21,967 - TornadoListener - WARNING - ❌ Cannot undo: undo_count=0
2025-07-30 17:58:22,012 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 17:58:22,044 - TornadoListener - INFO - ✅ Command 0165dcf3-8f53-4941-953e-0a955676dc97 executed successfully
2025-07-30 17:58:26,109 - TornadoListener - INFO - Processing command: 72b1ac7e-e8d4-4f7f-a062-07329e777ef5 - redo
2025-07-30 17:58:26,110 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 72b1ac7e-e8d4-4f7f-a062-07329e777ef5: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-07-30 17:58:26,114 - core.bookmark_engine_v2 - INFO - Redo: Advanced to history index 1
2025-07-30 17:58:26,154 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 17:58:26,188 - TornadoListener - INFO - ✅ Command 72b1ac7e-e8d4-4f7f-a062-07329e777ef5 executed successfully
2025-07-30 17:58:26,188 - TornadoListener - INFO - Processing command: 703a79b0-91a2-4e24-814f-6d73ce862066 - redo
2025-07-30 17:58:26,189 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 703a79b0-91a2-4e24-814f-6d73ce862066: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-07-30 17:58:26,221 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 17:58:26,249 - TornadoListener - INFO - ✅ Command 703a79b0-91a2-4e24-814f-6d73ce862066 executed successfully
2025-07-30 17:58:40,495 - TornadoListener - INFO - Processing command: b9c34664-5f75-4215-95ad-3d8e327e3518 - update_slice_visibility
2025-07-30 17:58:40,495 - TornadoListener - WARNING - ⚠️ Could not update status to processing for b9c34664-5f75-4215-95ad-3d8e327e3518: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-07-30 17:58:40,496 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=False, z=False
2025-07-30 17:58:40,496 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=False, undo_count=1
2025-07-30 17:58:40,496 - core.bookmark_engine_v2 - INFO - x_visible changed from True to False
2025-07-30 17:58:40,496 - core.bookmark_engine_v2 - INFO - y_visible changed from True to False
2025-07-30 17:58:40,497 - core.bookmark_engine_v2 - INFO - z_visible changed from False to False
2025-07-30 17:58:40,500 - core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-07-30 17:58:40,500 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=2
2025-07-30 17:58:40,541 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-07-30 17:58:40,570 - TornadoListener - INFO - ✅ Command b9c34664-5f75-4215-95ad-3d8e327e3518 executed successfully
2025-07-30 17:58:49,311 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-07-30 17:58:49,311 - TornadoListener - INFO - Cleaning up resources...
2025-07-30 17:58:49,342 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-08-08 14:36:53,448 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-08-08 14:36:53,450 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-08-08 14:36:53,451 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-08-08 14:36:53,451 - TornadoListener - INFO - Initializing SQLite database connection...
2025-08-08 14:36:53,722 - TornadoListener - INFO - ✅ SQLite database connection established
2025-08-08 14:36:53,780 - TornadoListener - INFO - Initializing bookmark engine...
2025-08-08 14:36:53,785 - TornadoListener - ERROR - ❌ Error initializing bookmark engine: Template file not found: /mnt/c/users/user/【﻿Ｏｗｅｎ】/Tornado MCP/src/data/templates/default_bookmark.html
2025-08-08 14:36:53,816 - TornadoListener - ERROR - Traceback (most recent call last):
  File "src/tornado_end/tornado/tornado_listener.py", line 207, in initialize_bookmark_engine
    self.bookmark_engine = BookmarkHTMLEngineV2(default_template, in_tornado=TORNADO_AVAILABLE)
  File "src/tornado_end/core/bookmark_engine_v2.py", line 99, in __init__
    self.load_template(template_name)
  File "src/tornado_end/core/bookmark_engine_v2.py", line 77, in load_template
    raise FileNotFoundError(f"Template file not found: {src_template}")
FileNotFoundError: Template file not found: /mnt/c/users/user/【﻿Ｏｗｅｎ】/Tornado MCP/src/data/templates/default_bookmark.html

2025-08-08 14:36:53,817 - TornadoListener - ERROR - Failed to initialize bookmark engine
2025-08-08 14:38:26,648 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-08-08 14:38:26,649 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-08-08 14:38:26,650 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-08-08 14:38:26,651 - TornadoListener - INFO - Initializing SQLite database connection...
2025-08-08 14:38:26,743 - TornadoListener - INFO - ✅ SQLite database connection established
2025-08-08 14:38:26,800 - TornadoListener - INFO - Initializing bookmark engine...
2025-08-08 14:38:26,808 - TornadoListener - ERROR - ❌ Error initializing bookmark engine: Template file not found: /mnt/c/users/user/【﻿Ｏｗｅｎ】/Tornado MCP/src/data/templates/default_bookmark.html
2025-08-08 14:38:26,838 - TornadoListener - ERROR - Traceback (most recent call last):
  File "src/tornado_end/tornado/tornado_listener.py", line 207, in initialize_bookmark_engine
    self.bookmark_engine = BookmarkHTMLEngineV2(default_template, in_tornado=TORNADO_AVAILABLE)
  File "src/tornado_end/core/bookmark_engine_v2.py", line 99, in __init__
    self.load_template(template_name)
  File "src/tornado_end/core/bookmark_engine_v2.py", line 77, in load_template
    raise FileNotFoundError(f"Template file not found: {src_template}")
FileNotFoundError: Template file not found: /mnt/c/users/user/【﻿Ｏｗｅｎ】/Tornado MCP/src/data/templates/default_bookmark.html

2025-08-08 14:38:26,839 - TornadoListener - ERROR - Failed to initialize bookmark engine
2025-08-08 14:41:38,295 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-08-08 14:41:38,296 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-08-08 14:41:38,297 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-08-08 14:41:38,297 - TornadoListener - INFO - Initializing SQLite database connection...
2025-08-08 14:41:38,383 - TornadoListener - INFO - ✅ SQLite database connection established
2025-08-08 14:41:38,435 - TornadoListener - INFO - Initializing bookmark engine...
2025-08-08 14:41:38,537 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=0, index=-1
2025-08-08 14:41:38,538 - tornado_end.core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-08-08 14:41:38,544 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-08-08 14:41:38,545 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-08-08 14:41:38,545 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-08-08 14:41:38,546 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-08-08 14:41:38,546 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-08-08 14:42:35,029 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-08-08 14:42:35,030 - TornadoListener - INFO - Cleaning up resources...
2025-08-08 14:42:35,340 - TornadoListener - WARNING - Failed to update system status: Database file not accessible after retries
2025-08-08 14:42:35,341 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-08-08 14:42:38,174 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-08-08 14:42:38,175 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-08-08 14:42:38,176 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-08-08 14:42:38,176 - TornadoListener - INFO - Initializing SQLite database connection...
2025-08-08 14:42:38,260 - TornadoListener - INFO - ✅ SQLite database connection established
2025-08-08 14:42:38,320 - TornadoListener - INFO - Initializing bookmark engine...
2025-08-08 14:42:38,399 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=0, index=-1
2025-08-08 14:42:38,400 - tornado_end.core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-08-08 14:42:38,409 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-08-08 14:42:38,410 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-08-08 14:42:38,411 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-08-08 14:42:38,412 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-08-08 14:42:38,412 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-08-08 14:45:19,858 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-08-08 14:45:19,858 - TornadoListener - INFO - Cleaning up resources...
2025-08-08 14:45:19,920 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-08-08 14:45:22,597 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-08-08 14:45:22,597 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-08-08 14:45:22,598 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-08-08 14:45:22,599 - TornadoListener - INFO - Initializing SQLite database connection...
2025-08-08 14:45:22,683 - TornadoListener - INFO - ✅ SQLite database connection established
2025-08-08 14:45:22,735 - TornadoListener - INFO - Initializing bookmark engine...
2025-08-08 14:45:22,814 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=0, index=-1
2025-08-08 14:45:22,815 - tornado_end.core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-08-08 14:45:22,823 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-08-08 14:45:22,824 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-08-08 14:45:22,824 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-08-08 14:45:22,825 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-08-08 14:45:22,825 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-08-08 14:49:46,355 - TornadoListener - INFO - Processing command: 1592d688-7615-4665-a840-3e7531eceae3 - undo
2025-08-08 14:49:46,356 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 1592d688-7615-4665-a840-3e7531eceae3: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:49:46,357 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=False, undo_count=0
2025-08-08 14:49:46,357 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=1, index=0, undo_count=0
2025-08-08 14:49:46,358 - TornadoListener - WARNING - ❌ Cannot undo: undo_count=0
2025-08-08 14:49:46,454 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:49:46,505 - TornadoListener - INFO - ✅ Command 1592d688-7615-4665-a840-3e7531eceae3 executed successfully
2025-08-08 14:49:46,506 - TornadoListener - INFO - Processing command: 9f5025ad-a041-487b-9c6a-c13abf66da42 - undo
2025-08-08 14:49:46,507 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 9f5025ad-a041-487b-9c6a-c13abf66da42: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:49:46,508 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=False, undo_count=0
2025-08-08 14:49:46,508 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=1, index=0, undo_count=0
2025-08-08 14:49:46,509 - TornadoListener - WARNING - ❌ Cannot undo: undo_count=0
2025-08-08 14:49:46,587 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:49:46,641 - TornadoListener - INFO - ✅ Command 9f5025ad-a041-487b-9c6a-c13abf66da42 executed successfully
2025-08-08 14:50:34,383 - TornadoListener - INFO - Processing command: 54a97bde-bb1d-43ea-87a2-c9d9d4166e10 - rotate_right
2025-08-08 14:50:34,384 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 54a97bde-bb1d-43ea-87a2-c9d9d4166e10: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:50:34,384 - tornado_end.core.bookmark_engine_v2 - INFO - Position changed from (0.0, 0.39269908169872414, -0.7853981633974483) to (0.0, 0.39269908169872414, -0.6853981633974483)
2025-08-08 14:50:34,392 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-08-08 14:50:34,473 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:50:34,527 - TornadoListener - INFO - ✅ Command 54a97bde-bb1d-43ea-87a2-c9d9d4166e10 executed successfully
2025-08-08 14:50:49,001 - TornadoListener - INFO - Processing command: fec9d42c-d98b-4985-98f2-932a611e6088 - update_slice_visibility
2025-08-08 14:50:49,001 - TornadoListener - WARNING - ⚠️ Could not update status to processing for fec9d42c-d98b-4985-98f2-932a611e6088: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:50:49,002 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=False, z=False
2025-08-08 14:50:49,003 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=False, z_visible=False, undo_count=1
2025-08-08 14:50:49,003 - tornado_end.core.bookmark_engine_v2 - INFO - x_visible changed from True to False
2025-08-08 14:50:49,004 - tornado_end.core.bookmark_engine_v2 - INFO - y_visible changed from False to False
2025-08-08 14:50:49,004 - tornado_end.core.bookmark_engine_v2 - INFO - z_visible changed from False to False
2025-08-08 14:50:49,012 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-08-08 14:50:49,012 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=2
2025-08-08 14:50:49,102 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:50:49,158 - TornadoListener - INFO - ✅ Command fec9d42c-d98b-4985-98f2-932a611e6088 executed successfully
2025-08-08 14:51:16,206 - TornadoListener - INFO - Processing command: 2f9a631a-deda-4add-b371-7a8b89c005a7 - undo
2025-08-08 14:51:16,206 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 2f9a631a-deda-4add-b371-7a8b89c005a7: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:51:16,207 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=2
2025-08-08 14:51:16,208 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=3, index=2, undo_count=2
2025-08-08 14:51:16,208 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=3, current_index=2, can_undo=True
2025-08-08 14:51:16,216 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 1
2025-08-08 14:51:16,217 - TornadoListener - INFO - 🔍 AFTER undo: history_length=3, index=1, undo_count=1
2025-08-08 14:51:16,217 - TornadoListener - INFO - ✅ Undo performed: new undo_count=1
2025-08-08 14:51:16,307 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:51:16,369 - TornadoListener - INFO - ✅ Command 2f9a631a-deda-4add-b371-7a8b89c005a7 executed successfully
2025-08-08 14:51:16,370 - TornadoListener - INFO - Processing command: 3f1c1e6e-180c-4535-a8b6-82f94177ffc8 - undo
2025-08-08 14:51:16,371 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 3f1c1e6e-180c-4535-a8b6-82f94177ffc8: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:51:16,372 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=1
2025-08-08 14:51:16,372 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=3, index=1, undo_count=1
2025-08-08 14:51:16,373 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=3, current_index=1, can_undo=True
2025-08-08 14:51:16,383 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 0
2025-08-08 14:51:16,383 - TornadoListener - INFO - 🔍 AFTER undo: history_length=3, index=0, undo_count=0
2025-08-08 14:51:16,384 - TornadoListener - INFO - ✅ Undo performed: new undo_count=0
2025-08-08 14:51:16,457 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:51:16,515 - TornadoListener - INFO - ✅ Command 3f1c1e6e-180c-4535-a8b6-82f94177ffc8 executed successfully
2025-08-08 14:51:33,118 - TornadoListener - INFO - Processing command: 1b899414-b6ef-432e-80dc-40fe08fda5bf - update_slice_visibility
2025-08-08 14:51:33,118 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 1b899414-b6ef-432e-80dc-40fe08fda5bf: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:51:33,119 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=True, y=True, z=True
2025-08-08 14:51:33,119 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=False, z_visible=False, undo_count=0
2025-08-08 14:51:33,120 - tornado_end.core.bookmark_engine_v2 - INFO - x_visible changed from True to True
2025-08-08 14:51:33,121 - tornado_end.core.bookmark_engine_v2 - INFO - y_visible changed from False to True
2025-08-08 14:51:33,121 - tornado_end.core.bookmark_engine_v2 - INFO - z_visible changed from False to True
2025-08-08 14:51:33,129 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-08-08 14:51:33,130 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=True, z_visible=True, undo_count=1
2025-08-08 14:51:33,219 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:51:33,274 - TornadoListener - INFO - ✅ Command 1b899414-b6ef-432e-80dc-40fe08fda5bf executed successfully
2025-08-08 14:54:25,470 - TornadoListener - INFO - Processing command: cd5eba7c-e1f3-4e12-bb5c-d7f177465df8 - update_slice_visibility
2025-08-08 14:54:25,471 - TornadoListener - WARNING - ⚠️ Could not update status to processing for cd5eba7c-e1f3-4e12-bb5c-d7f177465df8: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:54:25,472 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=True, y=None, z=None
2025-08-08 14:54:25,472 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=True, undo_count=1
2025-08-08 14:54:25,473 - tornado_end.core.bookmark_engine_v2 - INFO - x_visible changed from True to True
2025-08-08 14:54:25,481 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-08-08 14:54:25,482 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=True, z_visible=True, undo_count=2
2025-08-08 14:54:25,565 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:54:25,620 - TornadoListener - INFO - ✅ Command cd5eba7c-e1f3-4e12-bb5c-d7f177465df8 executed successfully
2025-08-08 14:54:33,891 - TornadoListener - INFO - Processing command: ccfdfd4a-a797-415f-8bea-96adba6893d9 - update_slice_visibility
2025-08-08 14:54:33,891 - TornadoListener - WARNING - ⚠️ Could not update status to processing for ccfdfd4a-a797-415f-8bea-96adba6893d9: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:54:33,892 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=None, z=None
2025-08-08 14:54:33,892 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=True, undo_count=2
2025-08-08 14:54:33,893 - tornado_end.core.bookmark_engine_v2 - INFO - x_visible changed from True to False
2025-08-08 14:54:33,901 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=4, index=3, can_undo=True, undo_count=3
2025-08-08 14:54:33,901 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=True, z_visible=True, undo_count=3
2025-08-08 14:54:33,983 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:54:34,043 - TornadoListener - INFO - ✅ Command ccfdfd4a-a797-415f-8bea-96adba6893d9 executed successfully
2025-08-08 14:54:38,182 - TornadoListener - INFO - Processing command: 0d62f57f-b9e7-4079-9ea3-c9de1b9dcca7 - update_slice_visibility
2025-08-08 14:54:38,183 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 0d62f57f-b9e7-4079-9ea3-c9de1b9dcca7: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:54:38,183 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=False, z=None
2025-08-08 14:54:38,184 - TornadoListener - INFO - 📊 Before update: x_visible=False, y_visible=True, z_visible=True, undo_count=3
2025-08-08 14:54:38,185 - tornado_end.core.bookmark_engine_v2 - INFO - y_visible changed from True to False
2025-08-08 14:54:38,192 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=5, index=4, can_undo=True, undo_count=4
2025-08-08 14:54:38,193 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=True, undo_count=4
2025-08-08 14:54:38,280 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:54:38,331 - TornadoListener - INFO - ✅ Command 0d62f57f-b9e7-4079-9ea3-c9de1b9dcca7 executed successfully
2025-08-08 14:54:44,610 - TornadoListener - INFO - Processing command: 96270f9d-8910-4c79-8804-e08e914d4809 - update_slice_visibility
2025-08-08 14:54:44,611 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 96270f9d-8910-4c79-8804-e08e914d4809: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:54:44,612 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=None, z=False
2025-08-08 14:54:44,612 - TornadoListener - INFO - 📊 Before update: x_visible=False, y_visible=False, z_visible=True, undo_count=4
2025-08-08 14:54:44,613 - tornado_end.core.bookmark_engine_v2 - INFO - z_visible changed from True to False
2025-08-08 14:54:44,623 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=6, index=5, can_undo=True, undo_count=5
2025-08-08 14:54:44,624 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=5
2025-08-08 14:54:44,696 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:54:44,745 - TornadoListener - INFO - ✅ Command 96270f9d-8910-4c79-8804-e08e914d4809 executed successfully
2025-08-08 14:54:50,984 - TornadoListener - INFO - Processing command: d1d03b6d-37a6-4e2c-9c43-55a3b735e519 - undo
2025-08-08 14:54:50,985 - TornadoListener - WARNING - ⚠️ Could not update status to processing for d1d03b6d-37a6-4e2c-9c43-55a3b735e519: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:54:50,986 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=5
2025-08-08 14:54:50,987 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=6, index=5, undo_count=5
2025-08-08 14:54:50,988 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=6, current_index=5, can_undo=True
2025-08-08 14:54:50,998 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 4
2025-08-08 14:54:50,999 - TornadoListener - INFO - 🔍 AFTER undo: history_length=6, index=4, undo_count=4
2025-08-08 14:54:50,999 - TornadoListener - INFO - ✅ Undo performed: new undo_count=4
2025-08-08 14:54:51,089 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:54:51,147 - TornadoListener - INFO - ✅ Command d1d03b6d-37a6-4e2c-9c43-55a3b735e519 executed successfully
2025-08-08 14:54:51,148 - TornadoListener - INFO - Processing command: c8960dd9-5560-44b9-8d06-6525e1ee7f21 - undo
2025-08-08 14:54:51,148 - TornadoListener - WARNING - ⚠️ Could not update status to processing for c8960dd9-5560-44b9-8d06-6525e1ee7f21: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:54:51,149 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=4
2025-08-08 14:54:51,149 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=6, index=4, undo_count=4
2025-08-08 14:54:51,150 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=6, current_index=4, can_undo=True
2025-08-08 14:54:51,157 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 3
2025-08-08 14:54:51,158 - TornadoListener - INFO - 🔍 AFTER undo: history_length=6, index=3, undo_count=3
2025-08-08 14:54:51,159 - TornadoListener - INFO - ✅ Undo performed: new undo_count=3
2025-08-08 14:54:51,240 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:54:51,292 - TornadoListener - INFO - ✅ Command c8960dd9-5560-44b9-8d06-6525e1ee7f21 executed successfully
2025-08-08 14:54:55,433 - TornadoListener - INFO - Processing command: be84f354-60f1-49b1-b7d5-467b26510f14 - redo
2025-08-08 14:54:55,433 - TornadoListener - WARNING - ⚠️ Could not update status to processing for be84f354-60f1-49b1-b7d5-467b26510f14: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:54:55,442 - tornado_end.core.bookmark_engine_v2 - INFO - Redo: Advanced to history index 4
2025-08-08 14:54:55,531 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:54:55,584 - TornadoListener - INFO - ✅ Command be84f354-60f1-49b1-b7d5-467b26510f14 executed successfully
2025-08-08 14:54:55,585 - TornadoListener - INFO - Processing command: 1f606c2a-6056-4c10-b697-e813061ac1e2 - redo
2025-08-08 14:54:55,585 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 1f606c2a-6056-4c10-b697-e813061ac1e2: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:54:55,594 - tornado_end.core.bookmark_engine_v2 - INFO - Redo: Advanced to history index 5
2025-08-08 14:54:55,669 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:54:55,723 - TornadoListener - INFO - ✅ Command 1f606c2a-6056-4c10-b697-e813061ac1e2 executed successfully
2025-08-08 14:59:25,066 - TornadoListener - INFO - Processing command: 36a5e5ff-698c-40da-a416-6cc85ba68f47 - undo
2025-08-08 14:59:25,067 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 36a5e5ff-698c-40da-a416-6cc85ba68f47: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:59:25,067 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=5
2025-08-08 14:59:25,068 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=6, index=5, undo_count=5
2025-08-08 14:59:25,068 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=6, current_index=5, can_undo=True
2025-08-08 14:59:25,076 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 4
2025-08-08 14:59:25,076 - TornadoListener - INFO - 🔍 AFTER undo: history_length=6, index=4, undo_count=4
2025-08-08 14:59:25,077 - TornadoListener - INFO - ✅ Undo performed: new undo_count=4
2025-08-08 14:59:25,165 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:59:25,222 - TornadoListener - INFO - ✅ Command 36a5e5ff-698c-40da-a416-6cc85ba68f47 executed successfully
2025-08-08 14:59:25,223 - TornadoListener - INFO - Processing command: 59d21b53-99a3-4ad0-880c-99e711ec50ac - undo
2025-08-08 14:59:25,223 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 59d21b53-99a3-4ad0-880c-99e711ec50ac: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:59:25,224 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=4
2025-08-08 14:59:25,224 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=6, index=4, undo_count=4
2025-08-08 14:59:25,225 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=6, current_index=4, can_undo=True
2025-08-08 14:59:25,234 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 3
2025-08-08 14:59:25,234 - TornadoListener - INFO - 🔍 AFTER undo: history_length=6, index=3, undo_count=3
2025-08-08 14:59:25,235 - TornadoListener - INFO - ✅ Undo performed: new undo_count=3
2025-08-08 14:59:25,309 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:59:25,359 - TornadoListener - INFO - ✅ Command 59d21b53-99a3-4ad0-880c-99e711ec50ac executed successfully
2025-08-08 14:59:29,488 - TornadoListener - INFO - Processing command: a550922c-70ed-4dc9-8d48-34784c708bd2 - redo
2025-08-08 14:59:29,489 - TornadoListener - WARNING - ⚠️ Could not update status to processing for a550922c-70ed-4dc9-8d48-34784c708bd2: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:59:29,498 - tornado_end.core.bookmark_engine_v2 - INFO - Redo: Advanced to history index 4
2025-08-08 14:59:29,751 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:59:29,809 - TornadoListener - INFO - ✅ Command a550922c-70ed-4dc9-8d48-34784c708bd2 executed successfully
2025-08-08 14:59:29,810 - TornadoListener - INFO - Processing command: 3a745023-da32-4434-94b9-5f183252868b - redo
2025-08-08 14:59:29,810 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 3a745023-da32-4434-94b9-5f183252868b: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 14:59:29,818 - tornado_end.core.bookmark_engine_v2 - INFO - Redo: Advanced to history index 5
2025-08-08 14:59:29,897 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 14:59:29,947 - TornadoListener - INFO - ✅ Command 3a745023-da32-4434-94b9-5f183252868b executed successfully
2025-08-08 15:08:21,984 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-08-08 15:08:21,985 - TornadoListener - INFO - Cleaning up resources...
2025-08-08 15:08:22,046 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-08-08 15:08:24,538 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-08-08 15:08:24,539 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-08-08 15:08:24,540 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-08-08 15:08:24,541 - TornadoListener - INFO - Initializing SQLite database connection...
2025-08-08 15:08:24,624 - TornadoListener - INFO - ✅ SQLite database connection established
2025-08-08 15:08:24,680 - TornadoListener - INFO - Initializing bookmark engine...
2025-08-08 15:08:24,759 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=0, index=-1
2025-08-08 15:08:24,760 - tornado_end.core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-08-08 15:08:24,770 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-08-08 15:08:24,770 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-08-08 15:08:24,771 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-08-08 15:08:24,771 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-08-08 15:08:24,772 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-08-08 15:08:57,976 - TornadoListener - INFO - Processing command: b4df1179-7295-4cdd-bb73-43cca70cc2fc - update_slice_visibility
2025-08-08 15:08:57,977 - TornadoListener - WARNING - ⚠️ Could not update status to processing for b4df1179-7295-4cdd-bb73-43cca70cc2fc: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:08:57,977 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=False, z=False
2025-08-08 15:08:57,978 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=False, z_visible=False, undo_count=0
2025-08-08 15:08:57,979 - tornado_end.core.bookmark_engine_v2 - INFO - x_visible changed from True to False
2025-08-08 15:08:57,979 - tornado_end.core.bookmark_engine_v2 - INFO - y_visible changed from False to False
2025-08-08 15:08:57,980 - tornado_end.core.bookmark_engine_v2 - INFO - z_visible changed from False to False
2025-08-08 15:08:57,988 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-08-08 15:08:57,988 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=1
2025-08-08 15:08:58,072 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:08:58,126 - TornadoListener - INFO - ✅ Command b4df1179-7295-4cdd-bb73-43cca70cc2fc executed successfully
2025-08-08 15:09:04,322 - TornadoListener - INFO - Processing command: 2e3d79e4-2bec-487f-ad9f-7cba05243326 - update_slice_visibility
2025-08-08 15:09:04,323 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 2e3d79e4-2bec-487f-ad9f-7cba05243326: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:09:04,323 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=True, y=None, z=None
2025-08-08 15:09:04,324 - TornadoListener - INFO - 📊 Before update: x_visible=False, y_visible=False, z_visible=False, undo_count=1
2025-08-08 15:09:04,324 - tornado_end.core.bookmark_engine_v2 - INFO - x_visible changed from False to True
2025-08-08 15:09:04,333 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-08-08 15:09:04,334 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=False, z_visible=False, undo_count=2
2025-08-08 15:09:04,421 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:09:04,481 - TornadoListener - INFO - ✅ Command 2e3d79e4-2bec-487f-ad9f-7cba05243326 executed successfully
2025-08-08 15:09:06,741 - TornadoListener - INFO - Processing command: 383cdf14-745d-4836-a3ec-40f9c09fb293 - update_slice_visibility
2025-08-08 15:09:06,742 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 383cdf14-745d-4836-a3ec-40f9c09fb293: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:09:06,743 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=True, z=None
2025-08-08 15:09:06,743 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=False, z_visible=False, undo_count=2
2025-08-08 15:09:06,744 - tornado_end.core.bookmark_engine_v2 - INFO - y_visible changed from False to True
2025-08-08 15:09:06,751 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=4, index=3, can_undo=True, undo_count=3
2025-08-08 15:09:06,751 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=True, z_visible=False, undo_count=3
2025-08-08 15:09:06,836 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:09:06,889 - TornadoListener - INFO - ✅ Command 383cdf14-745d-4836-a3ec-40f9c09fb293 executed successfully
2025-08-08 15:09:11,022 - TornadoListener - INFO - Processing command: cce40cd3-c641-450d-b68c-4b18e92620e7 - update_slice_visibility
2025-08-08 15:09:11,023 - TornadoListener - WARNING - ⚠️ Could not update status to processing for cce40cd3-c641-450d-b68c-4b18e92620e7: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:09:11,024 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=None, z=True
2025-08-08 15:09:11,025 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=False, undo_count=3
2025-08-08 15:09:11,025 - tornado_end.core.bookmark_engine_v2 - INFO - z_visible changed from False to True
2025-08-08 15:09:11,034 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=5, index=4, can_undo=True, undo_count=4
2025-08-08 15:09:11,035 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=True, z_visible=True, undo_count=4
2025-08-08 15:09:11,122 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:09:11,184 - TornadoListener - INFO - ✅ Command cce40cd3-c641-450d-b68c-4b18e92620e7 executed successfully
2025-08-08 15:09:13,248 - TornadoListener - INFO - Processing command: 804ab92c-8b9d-4de1-a66b-00a25f8da8c7 - undo
2025-08-08 15:09:13,249 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 804ab92c-8b9d-4de1-a66b-00a25f8da8c7: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:09:13,250 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=4
2025-08-08 15:09:13,250 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=5, index=4, undo_count=4
2025-08-08 15:09:13,251 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=5, current_index=4, can_undo=True
2025-08-08 15:09:13,258 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 3
2025-08-08 15:09:13,258 - TornadoListener - INFO - 🔍 AFTER undo: history_length=5, index=3, undo_count=3
2025-08-08 15:09:13,259 - TornadoListener - INFO - ✅ Undo performed: new undo_count=3
2025-08-08 15:09:13,337 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:09:13,397 - TornadoListener - INFO - ✅ Command 804ab92c-8b9d-4de1-a66b-00a25f8da8c7 executed successfully
2025-08-08 15:09:13,398 - TornadoListener - INFO - Processing command: 34b8eb60-5563-4ee8-8393-66c69a647ead - undo
2025-08-08 15:09:13,398 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 34b8eb60-5563-4ee8-8393-66c69a647ead: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:09:13,399 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=3
2025-08-08 15:09:13,399 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=5, index=3, undo_count=3
2025-08-08 15:09:13,400 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=5, current_index=3, can_undo=True
2025-08-08 15:09:13,407 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 2
2025-08-08 15:09:13,407 - TornadoListener - INFO - 🔍 AFTER undo: history_length=5, index=2, undo_count=2
2025-08-08 15:09:13,408 - TornadoListener - INFO - ✅ Undo performed: new undo_count=2
2025-08-08 15:09:13,485 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:09:13,533 - TornadoListener - INFO - ✅ Command 34b8eb60-5563-4ee8-8393-66c69a647ead executed successfully
2025-08-08 15:12:13,058 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-08-08 15:12:13,060 - TornadoListener - INFO - Cleaning up resources...
2025-08-08 15:12:13,121 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-08-08 15:12:16,165 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-08-08 15:12:16,166 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-08-08 15:12:16,167 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-08-08 15:12:16,167 - TornadoListener - INFO - Initializing SQLite database connection...
2025-08-08 15:12:16,261 - TornadoListener - INFO - ✅ SQLite database connection established
2025-08-08 15:12:16,320 - TornadoListener - INFO - Initializing bookmark engine...
2025-08-08 15:12:16,393 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=0, index=-1
2025-08-08 15:12:16,394 - tornado_end.core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-08-08 15:12:16,402 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-08-08 15:12:16,403 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-08-08 15:12:16,403 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-08-08 15:12:16,404 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-08-08 15:12:16,405 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-08-08 15:12:24,717 - TornadoListener - INFO - Processing command: b1ca71d7-db5f-4ee7-a0d2-df9aa9300dd5 - update_slice_visibility
2025-08-08 15:12:24,717 - TornadoListener - WARNING - ⚠️ Could not update status to processing for b1ca71d7-db5f-4ee7-a0d2-df9aa9300dd5: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:12:24,718 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=False, z=False
2025-08-08 15:12:24,719 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=False, z_visible=False, undo_count=0
2025-08-08 15:12:24,719 - tornado_end.core.bookmark_engine_v2 - INFO - x_visible changed from True to False
2025-08-08 15:12:24,720 - tornado_end.core.bookmark_engine_v2 - INFO - y_visible changed from False to False
2025-08-08 15:12:24,720 - tornado_end.core.bookmark_engine_v2 - INFO - z_visible changed from False to False
2025-08-08 15:12:24,730 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-08-08 15:12:24,730 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=1
2025-08-08 15:12:24,815 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:12:24,868 - TornadoListener - INFO - ✅ Command b1ca71d7-db5f-4ee7-a0d2-df9aa9300dd5 executed successfully
2025-08-08 15:12:29,005 - TornadoListener - INFO - Processing command: 7047f322-37e8-42c0-92bc-87de01fbf397 - update_slice_visibility
2025-08-08 15:12:29,006 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 7047f322-37e8-42c0-92bc-87de01fbf397: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:12:29,006 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=True, y=None, z=None
2025-08-08 15:12:29,007 - TornadoListener - INFO - 📊 Before update: x_visible=False, y_visible=False, z_visible=False, undo_count=1
2025-08-08 15:12:29,008 - tornado_end.core.bookmark_engine_v2 - INFO - x_visible changed from False to True
2025-08-08 15:12:29,018 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-08-08 15:12:29,018 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=False, z_visible=False, undo_count=2
2025-08-08 15:12:29,105 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:12:29,164 - TornadoListener - INFO - ✅ Command 7047f322-37e8-42c0-92bc-87de01fbf397 executed successfully
2025-08-08 15:12:31,231 - TornadoListener - INFO - Processing command: f0bf9a69-3293-40fb-abd2-c0754c19c9ad - update_slice_visibility
2025-08-08 15:12:31,232 - TornadoListener - WARNING - ⚠️ Could not update status to processing for f0bf9a69-3293-40fb-abd2-c0754c19c9ad: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:12:31,232 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=True, z=None
2025-08-08 15:12:31,233 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=False, z_visible=False, undo_count=2
2025-08-08 15:12:31,233 - tornado_end.core.bookmark_engine_v2 - INFO - y_visible changed from False to True
2025-08-08 15:12:31,241 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=4, index=3, can_undo=True, undo_count=3
2025-08-08 15:12:31,242 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=True, z_visible=False, undo_count=3
2025-08-08 15:12:31,322 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:12:31,374 - TornadoListener - INFO - ✅ Command f0bf9a69-3293-40fb-abd2-c0754c19c9ad executed successfully
2025-08-08 15:12:33,443 - TornadoListener - INFO - Processing command: aa5cd5a3-e4a1-410e-bd74-c8adc3a4f24a - update_slice_visibility
2025-08-08 15:12:33,444 - TornadoListener - WARNING - ⚠️ Could not update status to processing for aa5cd5a3-e4a1-410e-bd74-c8adc3a4f24a: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:12:33,445 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=None, z=True
2025-08-08 15:12:33,446 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=False, undo_count=3
2025-08-08 15:12:33,446 - tornado_end.core.bookmark_engine_v2 - INFO - z_visible changed from False to True
2025-08-08 15:12:33,455 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=5, index=4, can_undo=True, undo_count=4
2025-08-08 15:12:33,455 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=True, z_visible=True, undo_count=4
2025-08-08 15:12:33,542 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:12:33,598 - TornadoListener - INFO - ✅ Command aa5cd5a3-e4a1-410e-bd74-c8adc3a4f24a executed successfully
2025-08-08 15:12:39,858 - TornadoListener - INFO - Processing command: 56e3ab1d-8776-4ef3-b69c-6b185cd14812 - undo
2025-08-08 15:12:39,859 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 56e3ab1d-8776-4ef3-b69c-6b185cd14812: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:12:39,859 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=4
2025-08-08 15:12:39,860 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=5, index=4, undo_count=4
2025-08-08 15:12:39,860 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=5, current_index=4, can_undo=True
2025-08-08 15:12:39,868 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 3
2025-08-08 15:12:39,869 - TornadoListener - INFO - 🔍 AFTER undo: history_length=5, index=3, undo_count=3
2025-08-08 15:12:39,870 - TornadoListener - INFO - ✅ Undo performed: new undo_count=3
2025-08-08 15:12:40,109 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:12:40,166 - TornadoListener - INFO - ✅ Command 56e3ab1d-8776-4ef3-b69c-6b185cd14812 executed successfully
2025-08-08 15:12:40,167 - TornadoListener - INFO - Processing command: a386d3f8-df5e-47f7-81ff-5bf87e9ee70f - undo
2025-08-08 15:12:40,168 - TornadoListener - WARNING - ⚠️ Could not update status to processing for a386d3f8-df5e-47f7-81ff-5bf87e9ee70f: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:12:40,168 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=3
2025-08-08 15:12:40,169 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=5, index=3, undo_count=3
2025-08-08 15:12:40,169 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=5, current_index=3, can_undo=True
2025-08-08 15:12:40,178 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 2
2025-08-08 15:12:40,179 - TornadoListener - INFO - 🔍 AFTER undo: history_length=5, index=2, undo_count=2
2025-08-08 15:12:40,180 - TornadoListener - INFO - ✅ Undo performed: new undo_count=2
2025-08-08 15:12:40,256 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:12:40,310 - TornadoListener - INFO - ✅ Command a386d3f8-df5e-47f7-81ff-5bf87e9ee70f executed successfully
2025-08-08 15:15:51,106 - TornadoListener - INFO - Processing command: f4eaf58c-3ef5-490a-8c4a-a9904dc12d19 - redo
2025-08-08 15:15:51,106 - TornadoListener - WARNING - ⚠️ Could not update status to processing for f4eaf58c-3ef5-490a-8c4a-a9904dc12d19: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:15:51,115 - tornado_end.core.bookmark_engine_v2 - INFO - Redo: Advanced to history index 3
2025-08-08 15:15:51,201 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:15:51,257 - TornadoListener - INFO - ✅ Command f4eaf58c-3ef5-490a-8c4a-a9904dc12d19 executed successfully
2025-08-08 15:15:55,385 - TornadoListener - INFO - Processing command: 484075f8-bd92-42f0-816a-52a0ce4b18fe - redo
2025-08-08 15:15:55,386 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 484075f8-bd92-42f0-816a-52a0ce4b18fe: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:15:55,393 - tornado_end.core.bookmark_engine_v2 - INFO - Redo: Advanced to history index 4
2025-08-08 15:15:55,487 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:15:55,550 - TornadoListener - INFO - ✅ Command 484075f8-bd92-42f0-816a-52a0ce4b18fe executed successfully
2025-08-08 15:16:01,732 - TornadoListener - INFO - Processing command: 48a536c1-3785-4ec5-91a2-c3b69d3227f5 - undo
2025-08-08 15:16:01,733 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 48a536c1-3785-4ec5-91a2-c3b69d3227f5: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:16:01,734 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=4
2025-08-08 15:16:01,734 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=5, index=4, undo_count=4
2025-08-08 15:16:01,735 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=5, current_index=4, can_undo=True
2025-08-08 15:16:01,743 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 3
2025-08-08 15:16:01,743 - TornadoListener - INFO - 🔍 AFTER undo: history_length=5, index=3, undo_count=3
2025-08-08 15:16:01,744 - TornadoListener - INFO - ✅ Undo performed: new undo_count=3
2025-08-08 15:16:01,822 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:16:01,878 - TornadoListener - INFO - ✅ Command 48a536c1-3785-4ec5-91a2-c3b69d3227f5 executed successfully
2025-08-08 15:16:06,070 - TornadoListener - INFO - Processing command: 42b0db51-bb2d-4cae-b019-a92cb930b0d3 - undo
2025-08-08 15:16:06,071 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 42b0db51-bb2d-4cae-b019-a92cb930b0d3: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:16:06,071 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=3
2025-08-08 15:16:06,072 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=5, index=3, undo_count=3
2025-08-08 15:16:06,072 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=5, current_index=3, can_undo=True
2025-08-08 15:16:06,080 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 2
2025-08-08 15:16:06,081 - TornadoListener - INFO - 🔍 AFTER undo: history_length=5, index=2, undo_count=2
2025-08-08 15:16:06,081 - TornadoListener - INFO - ✅ Undo performed: new undo_count=2
2025-08-08 15:16:06,160 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:16:06,216 - TornadoListener - INFO - ✅ Command 42b0db51-bb2d-4cae-b019-a92cb930b0d3 executed successfully
2025-08-08 15:16:10,349 - TornadoListener - INFO - Processing command: 8f9f47be-304a-4953-a5b9-0a7c8828b21e - undo
2025-08-08 15:16:10,350 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 8f9f47be-304a-4953-a5b9-0a7c8828b21e: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:16:10,350 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=2
2025-08-08 15:16:10,351 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=5, index=2, undo_count=2
2025-08-08 15:16:10,351 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=5, current_index=2, can_undo=True
2025-08-08 15:16:10,361 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 1
2025-08-08 15:16:10,362 - TornadoListener - INFO - 🔍 AFTER undo: history_length=5, index=1, undo_count=1
2025-08-08 15:16:10,364 - TornadoListener - INFO - ✅ Undo performed: new undo_count=1
2025-08-08 15:16:10,450 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:16:10,512 - TornadoListener - INFO - ✅ Command 8f9f47be-304a-4953-a5b9-0a7c8828b21e executed successfully
2025-08-08 15:25:50,266 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-08-08 15:25:50,267 - TornadoListener - INFO - Cleaning up resources...
2025-08-08 15:25:50,324 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-08-08 15:25:53,585 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-08-08 15:25:53,586 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-08-08 15:25:53,586 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-08-08 15:25:53,587 - TornadoListener - INFO - Initializing SQLite database connection...
2025-08-08 15:25:53,670 - TornadoListener - INFO - ✅ SQLite database connection established
2025-08-08 15:25:53,721 - TornadoListener - INFO - Initializing bookmark engine...
2025-08-08 15:25:53,790 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=0, index=-1
2025-08-08 15:25:53,790 - tornado_end.core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-08-08 15:25:53,798 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-08-08 15:25:53,799 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-08-08 15:25:53,799 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-08-08 15:25:53,800 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-08-08 15:25:53,801 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-08-08 15:26:16,663 - TornadoListener - INFO - Processing command: 60c521bd-9f7c-4228-ac8e-8e6bd57809f5 - update_colormap
2025-08-08 15:26:16,664 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 60c521bd-9f7c-4228-ac8e-8e6bd57809f5: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:26:16,664 - tornado_end.core.bookmark_engine_v2 - INFO - Colormap changed from 3 to 2
2025-08-08 15:26:16,673 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-08-08 15:26:16,759 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:26:16,822 - TornadoListener - INFO - ✅ Command 60c521bd-9f7c-4228-ac8e-8e6bd57809f5 executed successfully
2025-08-08 15:26:20,964 - TornadoListener - INFO - Processing command: 1a80a63b-8734-4217-ac8c-e14a34edc5c3 - update_colormap
2025-08-08 15:26:20,965 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 1a80a63b-8734-4217-ac8c-e14a34edc5c3: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:26:20,966 - tornado_end.core.bookmark_engine_v2 - INFO - Colormap changed from 2 to 15
2025-08-08 15:26:20,974 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-08-08 15:26:21,064 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:26:21,113 - TornadoListener - INFO - ✅ Command 1a80a63b-8734-4217-ac8c-e14a34edc5c3 executed successfully
2025-08-08 15:30:09,055 - TornadoListener - INFO - Processing command: 4a63da36-2bca-4b13-a3f0-ab42d8b8a6f4 - update_colormap
2025-08-08 15:30:09,056 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 4a63da36-2bca-4b13-a3f0-ab42d8b8a6f4: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:30:09,056 - tornado_end.core.bookmark_engine_v2 - INFO - Colormap changed from 15 to 3
2025-08-08 15:30:09,065 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=4, index=3, can_undo=True, undo_count=3
2025-08-08 15:30:09,158 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:30:09,215 - TornadoListener - INFO - ✅ Command 4a63da36-2bca-4b13-a3f0-ab42d8b8a6f4 executed successfully
2025-08-08 15:30:34,098 - TornadoListener - INFO - Processing command: 453d56f9-b397-4852-a855-882a1f6366aa - undo
2025-08-08 15:30:34,099 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 453d56f9-b397-4852-a855-882a1f6366aa: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:30:34,099 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=3
2025-08-08 15:30:34,100 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=4, index=3, undo_count=3
2025-08-08 15:30:34,100 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=4, current_index=3, can_undo=True
2025-08-08 15:30:34,107 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 2
2025-08-08 15:30:34,108 - TornadoListener - INFO - 🔍 AFTER undo: history_length=4, index=2, undo_count=2
2025-08-08 15:30:34,108 - TornadoListener - INFO - ✅ Undo performed: new undo_count=2
2025-08-08 15:30:34,187 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:30:34,241 - TornadoListener - INFO - ✅ Command 453d56f9-b397-4852-a855-882a1f6366aa executed successfully
2025-08-08 15:31:32,452 - TornadoListener - INFO - Processing command: 1f321332-4b0b-4603-ac49-9b55f65c1f17 - update_colormap
2025-08-08 15:31:32,453 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 1f321332-4b0b-4603-ac49-9b55f65c1f17: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:31:32,454 - tornado_end.core.bookmark_engine_v2 - INFO - Colormap changed from 15 to 6
2025-08-08 15:31:32,462 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=4, index=3, can_undo=True, undo_count=3
2025-08-08 15:31:32,550 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:31:32,611 - TornadoListener - INFO - ✅ Command 1f321332-4b0b-4603-ac49-9b55f65c1f17 executed successfully
2025-08-08 15:31:49,172 - TornadoListener - INFO - Processing command: 9331620f-16fb-4283-89ce-7935ea703952 - rotate_right
2025-08-08 15:31:49,173 - TornadoListener - WARNING - ⚠️ Could not update status to processing for 9331620f-16fb-4283-89ce-7935ea703952: 'CommandQueueManager' object has no attribute 'mark_command_processing'
2025-08-08 15:31:49,174 - tornado_end.core.bookmark_engine_v2 - INFO - Position changed from (0.0, 0.39269908169872414, -0.7853981633974483) to (0.0, 0.39269908169872414, -0.6853981633974483)
2025-08-08 15:31:49,183 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=5, index=4, can_undo=True, undo_count=4
2025-08-08 15:31:49,266 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:31:49,320 - TornadoListener - INFO - ✅ Command 9331620f-16fb-4283-89ce-7935ea703952 executed successfully
2025-08-08 15:36:49,600 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-08-08 15:36:49,601 - TornadoListener - INFO - Cleaning up resources...
2025-08-08 15:36:49,664 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-08-08 15:36:53,476 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-08-08 15:36:53,477 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-08-08 15:36:53,478 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-08-08 15:36:53,478 - TornadoListener - INFO - Initializing SQLite database connection...
2025-08-08 15:36:53,570 - TornadoListener - INFO - ✅ SQLite database connection established
2025-08-08 15:36:53,630 - TornadoListener - INFO - Initializing bookmark engine...
2025-08-08 15:36:53,708 - TornadoListener - ERROR - ❌ Error initializing bookmark engine: 'BookmarkHTMLEngineV2' object has no attribute 'tornado'
2025-08-08 15:36:53,737 - TornadoListener - ERROR - Traceback (most recent call last):
  File "src/tornado_end/tornado/tornado_listener.py", line 207, in initialize_bookmark_engine
    self.bookmark_engine = BookmarkHTMLEngineV2(default_template, in_tornado=TORNADO_AVAILABLE)
  File "src/tornado_end/core/bookmark_engine_v2.py", line 102, in __init__
    self.load_template(template_name)
  File "src/tornado_end/core/bookmark_engine_v2.py", line 87, in load_template
    self.update_params()
  File "src/tornado_end/core/bookmark_engine_v2.py", line 199, in update_params
    self._load_into_tornado(self.temp_bkm_path)
  File "src/tornado_end/core/bookmark_engine_v2.py", line 255, in _load_into_tornado
    if not self.tornado:
AttributeError: 'BookmarkHTMLEngineV2' object has no attribute 'tornado'

2025-08-08 15:36:53,738 - TornadoListener - ERROR - Failed to initialize bookmark engine
2025-08-08 15:39:33,395 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-08-08 15:39:33,395 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-08-08 15:39:33,396 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-08-08 15:39:33,397 - TornadoListener - INFO - Initializing SQLite database connection...
2025-08-08 15:39:33,481 - TornadoListener - INFO - ✅ SQLite database connection established
2025-08-08 15:39:33,545 - TornadoListener - INFO - Initializing bookmark engine...
2025-08-08 15:39:33,639 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-08-08 15:39:33,641 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=1, index=0
2025-08-08 15:39:33,642 - tornado_end.core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-08-08 15:39:33,666 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-08-08 15:39:33,666 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization complete: history_length=2, index=1, can_undo=True, undo_count=1
2025-08-08 15:39:33,667 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-08-08 15:39:33,667 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-08-08 15:39:33,668 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-08-08 15:39:33,717 - TornadoListener - INFO - Processing command: 7a89e93b-f444-4df7-a738-e7580b058e4d - update_slice_visibility
2025-08-08 15:39:33,772 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=False, z=False
2025-08-08 15:39:33,773 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=False, z_visible=False, undo_count=1
2025-08-08 15:39:33,773 - tornado_end.core.bookmark_engine_v2 - INFO - x_visible changed from True to False
2025-08-08 15:39:33,774 - tornado_end.core.bookmark_engine_v2 - INFO - y_visible changed from False to False
2025-08-08 15:39:33,775 - tornado_end.core.bookmark_engine_v2 - INFO - z_visible changed from False to False
2025-08-08 15:39:33,783 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-08-08 15:39:33,783 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=2
2025-08-08 15:39:33,868 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:39:33,921 - TornadoListener - INFO - ✅ Command 7a89e93b-f444-4df7-a738-e7580b058e4d executed successfully
2025-08-08 15:39:52,523 - TornadoListener - INFO - Processing command: 37d73f3c-edf6-4d2a-8c4e-e2130bccc595 - undo
2025-08-08 15:39:52,581 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=2
2025-08-08 15:39:52,582 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=3, index=2, undo_count=2
2025-08-08 15:39:52,583 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=3, current_index=2, can_undo=True
2025-08-08 15:39:52,591 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 1
2025-08-08 15:39:52,592 - TornadoListener - INFO - 🔍 AFTER undo: history_length=3, index=1, undo_count=1
2025-08-08 15:39:52,593 - TornadoListener - INFO - ✅ Undo performed: new undo_count=1
2025-08-08 15:39:52,663 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:39:52,716 - TornadoListener - INFO - ✅ Command 37d73f3c-edf6-4d2a-8c4e-e2130bccc595 executed successfully
2025-08-08 15:39:54,839 - TornadoListener - INFO - Processing command: 9b480339-2df2-418d-9d29-b0f7e54b2321 - redo
2025-08-08 15:39:54,907 - tornado_end.core.bookmark_engine_v2 - INFO - Redo: Advanced to history index 2
2025-08-08 15:39:55,155 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:39:55,213 - TornadoListener - INFO - ✅ Command 9b480339-2df2-418d-9d29-b0f7e54b2321 executed successfully
2025-08-08 15:40:01,440 - TornadoListener - INFO - Processing command: 2da2972e-2e1f-413b-abdd-861ab255c511 - update_slice_visibility
2025-08-08 15:40:01,496 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=True, y=None, z=None
2025-08-08 15:40:01,496 - TornadoListener - INFO - 📊 Before update: x_visible=False, y_visible=False, z_visible=False, undo_count=2
2025-08-08 15:40:01,497 - tornado_end.core.bookmark_engine_v2 - INFO - x_visible changed from False to True
2025-08-08 15:40:01,505 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=4, index=3, can_undo=True, undo_count=3
2025-08-08 15:40:01,506 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=False, z_visible=False, undo_count=3
2025-08-08 15:40:01,583 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:40:01,634 - TornadoListener - INFO - ✅ Command 2da2972e-2e1f-413b-abdd-861ab255c511 executed successfully
2025-08-08 15:40:07,830 - TornadoListener - INFO - Processing command: c0d49207-89fd-4174-a298-50de9aa3aec7 - update_slice_visibility
2025-08-08 15:40:07,888 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=True, z=None
2025-08-08 15:40:07,889 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=False, z_visible=False, undo_count=3
2025-08-08 15:40:07,889 - tornado_end.core.bookmark_engine_v2 - INFO - y_visible changed from False to True
2025-08-08 15:40:07,897 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=5, index=4, can_undo=True, undo_count=4
2025-08-08 15:40:07,898 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=True, z_visible=False, undo_count=4
2025-08-08 15:40:07,976 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:40:08,028 - TornadoListener - INFO - ✅ Command c0d49207-89fd-4174-a298-50de9aa3aec7 executed successfully
2025-08-08 15:40:14,229 - TornadoListener - INFO - Processing command: 207496cb-74b6-41b3-b344-2e1a7f4d1f54 - update_slice_visibility
2025-08-08 15:40:14,284 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=None, y=None, z=True
2025-08-08 15:40:14,285 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=False, undo_count=4
2025-08-08 15:40:14,285 - tornado_end.core.bookmark_engine_v2 - INFO - z_visible changed from False to True
2025-08-08 15:40:14,293 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=6, index=5, can_undo=True, undo_count=5
2025-08-08 15:40:14,293 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=True, z_visible=True, undo_count=5
2025-08-08 15:40:14,366 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:40:14,424 - TornadoListener - INFO - ✅ Command 207496cb-74b6-41b3-b344-2e1a7f4d1f54 executed successfully
2025-08-08 15:40:22,744 - TornadoListener - INFO - Processing command: 745b9c76-3d8e-40cd-b7cc-fe2a56f5872c - undo
2025-08-08 15:40:22,801 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=5
2025-08-08 15:40:22,802 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=6, index=5, undo_count=5
2025-08-08 15:40:22,802 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=6, current_index=5, can_undo=True
2025-08-08 15:40:22,810 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 4
2025-08-08 15:40:22,811 - TornadoListener - INFO - 🔍 AFTER undo: history_length=6, index=4, undo_count=4
2025-08-08 15:40:22,811 - TornadoListener - INFO - ✅ Undo performed: new undo_count=4
2025-08-08 15:40:22,891 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:40:22,942 - TornadoListener - INFO - ✅ Command 745b9c76-3d8e-40cd-b7cc-fe2a56f5872c executed successfully
2025-08-08 15:40:27,077 - TornadoListener - INFO - Processing command: 588ade91-3b87-4ad1-a763-c4d21ac04434 - redo
2025-08-08 15:40:27,145 - tornado_end.core.bookmark_engine_v2 - INFO - Redo: Advanced to history index 5
2025-08-08 15:40:27,226 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:40:27,279 - TornadoListener - INFO - ✅ Command 588ade91-3b87-4ad1-a763-c4d21ac04434 executed successfully
2025-08-08 15:40:52,247 - TornadoListener - INFO - 📤 Processed template request: 5 templates
2025-08-08 15:41:00,637 - TornadoListener - INFO - Processing command: f176c150-2201-4d16-8f30-07e1d6bb15ce - load_template
2025-08-08 15:41:00,761 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=7, index=6, can_undo=True, undo_count=6
2025-08-08 15:41:00,761 - TornadoListener - INFO - ✅ Template loaded: default_bookmark.html
2025-08-08 15:41:00,841 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:41:00,894 - TornadoListener - INFO - ✅ Command f176c150-2201-4d16-8f30-07e1d6bb15ce executed successfully
2025-08-08 15:41:09,173 - TornadoListener - INFO - Processing command: 5dc45e49-9cf0-472c-82bf-5e9a8cf685c3 - load_template
2025-08-08 15:41:09,528 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=8, index=7, can_undo=True, undo_count=7
2025-08-08 15:41:09,529 - TornadoListener - INFO - ✅ Template loaded: ortho_view.html
2025-08-08 15:41:09,611 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:41:09,662 - TornadoListener - INFO - ✅ Command 5dc45e49-9cf0-472c-82bf-5e9a8cf685c3 executed successfully
2025-08-08 15:47:16,384 - TornadoListener - INFO - Processing command: 880b7724-6b57-4316-a9b5-226841597b12 - load_template
2025-08-08 15:47:16,502 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=9, index=8, can_undo=True, undo_count=8
2025-08-08 15:47:16,503 - TornadoListener - INFO - ✅ Template loaded: crossline_view.html
2025-08-08 15:47:16,745 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:47:16,800 - TornadoListener - INFO - ✅ Command 880b7724-6b57-4316-a9b5-226841597b12 executed successfully
2025-08-08 15:47:23,037 - TornadoListener - INFO - Processing command: c2c4c468-9935-433e-a01c-f89a9e53c8d2 - load_template
2025-08-08 15:47:23,169 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=10, index=9, can_undo=True, undo_count=9
2025-08-08 15:47:23,170 - TornadoListener - INFO - ✅ Template loaded: inline_view.html
2025-08-08 15:47:23,251 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:47:23,299 - TornadoListener - INFO - ✅ Command c2c4c468-9935-433e-a01c-f89a9e53c8d2 executed successfully
2025-08-08 15:47:27,431 - TornadoListener - INFO - Processing command: 287d1fb8-383d-4a9b-b6c2-e8725c904bad - load_template
2025-08-08 15:47:27,549 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=11, index=10, can_undo=True, undo_count=10
2025-08-08 15:47:27,549 - TornadoListener - INFO - ✅ Template loaded: top_view.html
2025-08-08 15:47:27,629 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:47:27,682 - TornadoListener - INFO - ✅ Command 287d1fb8-383d-4a9b-b6c2-e8725c904bad executed successfully
2025-08-08 15:48:07,080 - TornadoListener - INFO - Processing command: 3ceaf932-b648-4347-bdf4-63d725fafc23 - load_template
2025-08-08 15:48:07,199 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=12, index=11, can_undo=True, undo_count=11
2025-08-08 15:48:07,200 - TornadoListener - INFO - ✅ Template loaded: ortho_view.html
2025-08-08 15:48:07,280 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:48:07,332 - TornadoListener - INFO - ✅ Command 3ceaf932-b648-4347-bdf4-63d725fafc23 executed successfully
2025-08-08 15:58:49,793 - TornadoListener - INFO - Processing command: fb78ef2c-1179-44ac-a72d-9b2daa8e88e8 - update_slice_visibility
2025-08-08 15:58:49,844 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=False, z=False
2025-08-08 15:58:49,845 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=True, z_visible=True, undo_count=11
2025-08-08 15:58:49,845 - tornado_end.core.bookmark_engine_v2 - INFO - x_visible changed from True to False
2025-08-08 15:58:49,846 - tornado_end.core.bookmark_engine_v2 - INFO - y_visible changed from True to False
2025-08-08 15:58:49,846 - tornado_end.core.bookmark_engine_v2 - INFO - z_visible changed from True to False
2025-08-08 15:58:49,854 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=13, index=12, can_undo=True, undo_count=12
2025-08-08 15:58:49,854 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=12
2025-08-08 15:58:49,930 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:58:49,979 - TornadoListener - INFO - ✅ Command fb78ef2c-1179-44ac-a72d-9b2daa8e88e8 executed successfully
2025-08-08 15:58:58,285 - TornadoListener - INFO - Processing command: c44f2c2c-81e9-440c-8532-6967a24e3f46 - update_slice_visibility
2025-08-08 15:58:58,340 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=True, y=True, z=None
2025-08-08 15:58:58,341 - TornadoListener - INFO - 📊 Before update: x_visible=False, y_visible=False, z_visible=False, undo_count=12
2025-08-08 15:58:58,342 - tornado_end.core.bookmark_engine_v2 - INFO - x_visible changed from False to True
2025-08-08 15:58:58,342 - tornado_end.core.bookmark_engine_v2 - INFO - y_visible changed from False to True
2025-08-08 15:58:58,350 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=14, index=13, can_undo=True, undo_count=13
2025-08-08 15:58:58,351 - TornadoListener - INFO - 📊 After update: x_visible=True, y_visible=True, z_visible=False, undo_count=13
2025-08-08 15:58:58,440 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:58:58,491 - TornadoListener - INFO - ✅ Command c44f2c2c-81e9-440c-8532-6967a24e3f46 executed successfully
2025-08-08 15:59:15,044 - TornadoListener - INFO - Processing command: 1e535a8b-c56b-47bb-9499-c2d52ba52749 - undo
2025-08-08 15:59:15,104 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=13
2025-08-08 15:59:15,104 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=14, index=13, undo_count=13
2025-08-08 15:59:15,105 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=14, current_index=13, can_undo=True
2025-08-08 15:59:15,113 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 12
2025-08-08 15:59:15,113 - TornadoListener - INFO - 🔍 AFTER undo: history_length=14, index=12, undo_count=12
2025-08-08 15:59:15,114 - TornadoListener - INFO - ✅ Undo performed: new undo_count=12
2025-08-08 15:59:15,191 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:59:15,250 - TornadoListener - INFO - ✅ Command 1e535a8b-c56b-47bb-9499-c2d52ba52749 executed successfully
2025-08-08 15:59:15,250 - TornadoListener - INFO - Processing command: 3ce11b64-bd3b-41b8-9772-df1aa501fe30 - undo
2025-08-08 15:59:15,304 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=12
2025-08-08 15:59:15,305 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=14, index=12, undo_count=12
2025-08-08 15:59:15,305 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=14, current_index=12, can_undo=True
2025-08-08 15:59:15,313 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 11
2025-08-08 15:59:15,314 - TornadoListener - INFO - 🔍 AFTER undo: history_length=14, index=11, undo_count=11
2025-08-08 15:59:15,314 - TornadoListener - INFO - ✅ Undo performed: new undo_count=11
2025-08-08 15:59:15,392 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:59:15,446 - TornadoListener - INFO - ✅ Command 3ce11b64-bd3b-41b8-9772-df1aa501fe30 executed successfully
2025-08-08 15:59:15,447 - TornadoListener - INFO - Processing command: 498f6656-e4fd-4869-9c1b-f9fd8c83ccee - undo
2025-08-08 15:59:15,496 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=11
2025-08-08 15:59:15,497 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=14, index=11, undo_count=11
2025-08-08 15:59:15,498 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=14, current_index=11, can_undo=True
2025-08-08 15:59:15,505 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 10
2025-08-08 15:59:15,506 - TornadoListener - INFO - 🔍 AFTER undo: history_length=14, index=10, undo_count=10
2025-08-08 15:59:15,506 - TornadoListener - INFO - ✅ Undo performed: new undo_count=10
2025-08-08 15:59:15,583 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:59:15,638 - TornadoListener - INFO - ✅ Command 498f6656-e4fd-4869-9c1b-f9fd8c83ccee executed successfully
2025-08-08 15:59:15,638 - TornadoListener - INFO - Processing command: 6c5f938b-501b-419b-9217-8c4381ce6ddf - undo
2025-08-08 15:59:15,699 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=10
2025-08-08 15:59:15,699 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=14, index=10, undo_count=10
2025-08-08 15:59:15,700 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=14, current_index=10, can_undo=True
2025-08-08 15:59:15,707 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 9
2025-08-08 15:59:15,708 - TornadoListener - INFO - 🔍 AFTER undo: history_length=14, index=9, undo_count=9
2025-08-08 15:59:15,708 - TornadoListener - INFO - ✅ Undo performed: new undo_count=9
2025-08-08 15:59:15,778 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:59:15,831 - TornadoListener - INFO - ✅ Command 6c5f938b-501b-419b-9217-8c4381ce6ddf executed successfully
2025-08-08 15:59:36,543 - TornadoListener - INFO - Processing command: 1b2bd031-71d0-42ed-b513-07c583d959e4 - update_position
2025-08-08 15:59:36,597 - TornadoListener - INFO - 🔍 BEFORE position update: history_length=14, index=9, undo_count=9
2025-08-08 15:59:36,598 - tornado_end.core.bookmark_engine_v2 - INFO - Position changed from (159487.5, 111625.0, 3500.0) to (162112.5, 112487.5, 3500.0)
2025-08-08 15:59:36,606 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=11, index=10, can_undo=True, undo_count=10
2025-08-08 15:59:36,606 - TornadoListener - INFO - 🔍 AFTER position update: history_length=11, index=10, undo_count=10
2025-08-08 15:59:36,689 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:59:36,741 - TornadoListener - INFO - ✅ Command 1b2bd031-71d0-42ed-b513-07c583d959e4 executed successfully
2025-08-08 15:59:36,742 - TornadoListener - INFO - Processing command: f52a2e8f-3ff8-4ab8-ad35-f559034c99e5 - update_position
2025-08-08 15:59:36,792 - TornadoListener - INFO - 🔍 BEFORE position update: history_length=11, index=10, undo_count=10
2025-08-08 15:59:36,792 - tornado_end.core.bookmark_engine_v2 - INFO - Position changed from (162112.5, 112487.5, 3500.0) to (158112.5, 112487.5, 3500.0)
2025-08-08 15:59:36,801 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=12, index=11, can_undo=True, undo_count=11
2025-08-08 15:59:36,801 - TornadoListener - INFO - 🔍 AFTER position update: history_length=12, index=11, undo_count=11
2025-08-08 15:59:36,880 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:59:36,938 - TornadoListener - INFO - ✅ Command f52a2e8f-3ff8-4ab8-ad35-f559034c99e5 executed successfully
2025-08-08 15:59:45,280 - TornadoListener - INFO - Processing command: 3909953e-e3eb-4a5d-bea3-5326762a6803 - undo
2025-08-08 15:59:45,339 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=11
2025-08-08 15:59:45,340 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=12, index=11, undo_count=11
2025-08-08 15:59:45,341 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=12, current_index=11, can_undo=True
2025-08-08 15:59:45,349 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 10
2025-08-08 15:59:45,349 - TornadoListener - INFO - 🔍 AFTER undo: history_length=12, index=10, undo_count=10
2025-08-08 15:59:45,350 - TornadoListener - INFO - ✅ Undo performed: new undo_count=10
2025-08-08 15:59:45,431 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:59:45,485 - TornadoListener - INFO - ✅ Command 3909953e-e3eb-4a5d-bea3-5326762a6803 executed successfully
2025-08-08 15:59:49,620 - TornadoListener - INFO - Processing command: a5466107-91f4-4f7f-86c7-8a9598700ac5 - undo
2025-08-08 15:59:49,679 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=10
2025-08-08 15:59:49,679 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=12, index=10, undo_count=10
2025-08-08 15:59:49,680 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=12, current_index=10, can_undo=True
2025-08-08 15:59:49,687 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 9
2025-08-08 15:59:49,688 - TornadoListener - INFO - 🔍 AFTER undo: history_length=12, index=9, undo_count=9
2025-08-08 15:59:49,688 - TornadoListener - INFO - ✅ Undo performed: new undo_count=9
2025-08-08 15:59:49,774 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 15:59:49,826 - TornadoListener - INFO - ✅ Command a5466107-91f4-4f7f-86c7-8a9598700ac5 executed successfully
2025-08-08 16:00:06,428 - TornadoListener - INFO - Processing command: 386daa19-9eb8-43e9-aa61-3799332c42ff - load_template
2025-08-08 16:00:06,552 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=11, index=10, can_undo=True, undo_count=10
2025-08-08 16:00:06,552 - TornadoListener - INFO - ✅ Template loaded: top_view.html
2025-08-08 16:00:06,645 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 16:00:06,702 - TornadoListener - INFO - ✅ Command 386daa19-9eb8-43e9-aa61-3799332c42ff executed successfully
2025-08-08 16:00:06,703 - TornadoListener - INFO - Processing command: b099eeb4-29ba-4515-aeb7-405cb17b7891 - load_template
2025-08-08 16:00:06,817 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=12, index=11, can_undo=True, undo_count=11
2025-08-08 16:00:06,818 - TornadoListener - INFO - ✅ Template loaded: top_view.html
2025-08-08 16:00:06,904 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 16:00:06,957 - TornadoListener - INFO - ✅ Command b099eeb4-29ba-4515-aeb7-405cb17b7891 executed successfully
2025-08-08 16:00:06,958 - TornadoListener - INFO - Processing command: 358e9a2f-2968-45ee-a669-a8a245f18ac7 - update_slice_visibility
2025-08-08 16:00:07,014 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=False, z=True
2025-08-08 16:00:07,014 - TornadoListener - INFO - 📊 Before update: x_visible=False, y_visible=False, z_visible=True, undo_count=11
2025-08-08 16:00:07,015 - tornado_end.core.bookmark_engine_v2 - INFO - x_visible changed from False to False
2025-08-08 16:00:07,015 - tornado_end.core.bookmark_engine_v2 - INFO - y_visible changed from False to False
2025-08-08 16:00:07,016 - tornado_end.core.bookmark_engine_v2 - INFO - z_visible changed from True to True
2025-08-08 16:00:07,023 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=13, index=12, can_undo=True, undo_count=12
2025-08-08 16:00:07,024 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=True, undo_count=12
2025-08-08 16:00:07,096 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 16:00:07,148 - TornadoListener - INFO - ✅ Command 358e9a2f-2968-45ee-a669-a8a245f18ac7 executed successfully
2025-08-08 16:26:07,828 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-08-08 16:26:07,829 - TornadoListener - INFO - Cleaning up resources...
2025-08-08 16:26:07,887 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-08-08 16:26:10,450 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-08-08 16:26:10,451 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-08-08 16:26:10,451 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-08-08 16:26:10,452 - TornadoListener - INFO - Initializing SQLite database connection...
2025-08-08 16:26:10,545 - TornadoListener - INFO - ✅ SQLite database connection established
2025-08-08 16:26:10,623 - TornadoListener - INFO - Initializing bookmark engine...
2025-08-08 16:26:10,709 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-08-08 16:26:10,709 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=1, index=0
2025-08-08 16:26:10,710 - tornado_end.core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-08-08 16:26:10,731 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-08-08 16:26:10,732 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization complete: history_length=2, index=1, can_undo=True, undo_count=1
2025-08-08 16:26:10,732 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-08-08 16:26:10,733 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-08-08 16:26:10,733 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-08-08 16:26:16,979 - TornadoListener - INFO - Processing command: 4b7c76ba-0cd4-47c2-91f7-d8de5c4099d1 - rotate_right
2025-08-08 16:26:17,031 - tornado_end.core.bookmark_engine_v2 - INFO - Position changed from (0.0, 0.39269908169872414, -0.7853981633974483) to (0.0, 0.39269908169872414, -0.39269908169872414)
2025-08-08 16:26:17,041 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-08-08 16:26:17,122 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 16:26:17,176 - TornadoListener - INFO - ✅ Command 4b7c76ba-0cd4-47c2-91f7-d8de5c4099d1 executed successfully
2025-08-08 16:26:21,299 - TornadoListener - INFO - Processing command: 7631dfeb-f6dd-4e6b-a031-06a1e646ece4 - undo
2025-08-08 16:26:21,356 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=2
2025-08-08 16:26:21,357 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=3, index=2, undo_count=2
2025-08-08 16:26:21,358 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=3, current_index=2, can_undo=True
2025-08-08 16:26:21,366 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 1
2025-08-08 16:26:21,367 - TornadoListener - INFO - 🔍 AFTER undo: history_length=3, index=1, undo_count=1
2025-08-08 16:26:21,367 - TornadoListener - INFO - ✅ Undo performed: new undo_count=1
2025-08-08 16:26:21,447 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 16:26:21,500 - TornadoListener - INFO - ✅ Command 7631dfeb-f6dd-4e6b-a031-06a1e646ece4 executed successfully
2025-08-08 16:26:29,775 - TornadoListener - INFO - Processing command: ba3a34d9-73ab-4f3c-a1d6-bbd5a331db4f - rotate_right
2025-08-08 16:26:29,829 - tornado_end.core.bookmark_engine_v2 - INFO - Position changed from (0.0, 0.39269908169872414, -0.7853981633974483) to (0.0, 0.39269908169872414, -0.39269908169872414)
2025-08-08 16:26:29,837 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-08-08 16:26:29,918 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 16:26:29,968 - TornadoListener - INFO - ✅ Command ba3a34d9-73ab-4f3c-a1d6-bbd5a331db4f executed successfully
2025-08-08 16:26:32,092 - TornadoListener - INFO - Processing command: 9b4a109c-df01-42b5-90d0-fbfa66b9ea22 - rotate_right
2025-08-08 16:26:32,147 - tornado_end.core.bookmark_engine_v2 - INFO - Position changed from (0.0, 0.39269908169872414, -0.39269908169872414) to (0.0, 0.39269908169872414, 0.0)
2025-08-08 16:26:32,155 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=4, index=3, can_undo=True, undo_count=3
2025-08-08 16:26:32,234 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 16:26:32,288 - TornadoListener - INFO - ✅ Command 9b4a109c-df01-42b5-90d0-fbfa66b9ea22 executed successfully
2025-08-08 16:26:46,753 - TornadoListener - INFO - Processing command: 154c3fcf-aa41-446a-a783-1a3397cd41f6 - rotate_left
2025-08-08 16:26:46,816 - tornado_end.core.bookmark_engine_v2 - INFO - Position changed from (0.0, 0.39269908169872414, 0.0) to (0.0, 0.39269908169872414, -0.39269908169872414)
2025-08-08 16:26:46,825 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=5, index=4, can_undo=True, undo_count=4
2025-08-08 16:26:46,905 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 16:26:47,109 - TornadoListener - INFO - ✅ Command 154c3fcf-aa41-446a-a783-1a3397cd41f6 executed successfully
2025-08-08 16:27:09,893 - TornadoListener - INFO - Processing command: ac4ceb25-55dc-42d0-91dd-dbd7ec79e1a7 - update_orientation
2025-08-08 16:27:09,952 - tornado_end.core.bookmark_engine_v2 - INFO - Position changed from (0.0, 0.39269908169872414, -0.39269908169872414) to (0.7853979999999998, 0.0, 0.0)
2025-08-08 16:27:09,960 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=6, index=5, can_undo=True, undo_count=5
2025-08-08 16:27:10,039 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 16:27:10,254 - TornadoListener - INFO - ✅ Command ac4ceb25-55dc-42d0-91dd-dbd7ec79e1a7 executed successfully
2025-08-08 16:27:26,841 - TornadoListener - INFO - Processing command: c20ed0d3-0e8f-4edf-9da0-82e984a2aff3 - update_orientation
2025-08-08 16:27:26,896 - tornado_end.core.bookmark_engine_v2 - INFO - Position changed from (0.7853979999999998, 0.0, 0.0) to (0.0, 0.0, 0.7853979999999998)
2025-08-08 16:27:26,905 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=7, index=6, can_undo=True, undo_count=6
2025-08-08 16:27:26,990 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 16:27:27,050 - TornadoListener - INFO - ✅ Command c20ed0d3-0e8f-4edf-9da0-82e984a2aff3 executed successfully
2025-08-08 16:27:35,364 - TornadoListener - INFO - Processing command: 5ef1d519-b557-4cb3-a5e0-4c2caba2a30f - undo
2025-08-08 16:27:35,421 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=6
2025-08-08 16:27:35,421 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=7, index=6, undo_count=6
2025-08-08 16:27:35,422 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=7, current_index=6, can_undo=True
2025-08-08 16:27:35,429 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 5
2025-08-08 16:27:35,430 - TornadoListener - INFO - 🔍 AFTER undo: history_length=7, index=5, undo_count=5
2025-08-08 16:27:35,431 - TornadoListener - INFO - ✅ Undo performed: new undo_count=5
2025-08-08 16:27:35,509 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 16:27:35,559 - TornadoListener - INFO - ✅ Command 5ef1d519-b557-4cb3-a5e0-4c2caba2a30f executed successfully
2025-08-08 16:27:47,947 - TornadoListener - INFO - Processing command: f74e77d5-d650-408d-ab14-b12cf3dd6556 - update_orientation
2025-08-08 16:27:48,000 - tornado_end.core.bookmark_engine_v2 - INFO - Position changed from (0.7853979999999998, 0.0, 0.0) to (0.0, 0.0, -0.7853979999999998)
2025-08-08 16:27:48,008 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=7, index=6, can_undo=True, undo_count=6
2025-08-08 16:27:48,087 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 16:27:48,142 - TornadoListener - INFO - ✅ Command f74e77d5-d650-408d-ab14-b12cf3dd6556 executed successfully
2025-08-08 17:16:43,091 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-08-08 17:16:43,092 - TornadoListener - INFO - Cleaning up resources...
2025-08-08 17:16:43,148 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-08-08 17:16:45,831 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-08-08 17:16:45,832 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-08-08 17:16:45,832 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-08-08 17:16:45,833 - TornadoListener - INFO - Initializing SQLite database connection...
2025-08-08 17:16:45,917 - TornadoListener - INFO - ✅ SQLite database connection established
2025-08-08 17:16:45,975 - TornadoListener - INFO - Initializing bookmark engine...
2025-08-08 17:16:46,061 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-08-08 17:16:46,062 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=1, index=0
2025-08-08 17:16:46,062 - tornado_end.core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-08-08 17:16:46,081 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-08-08 17:16:46,082 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization complete: history_length=2, index=1, can_undo=True, undo_count=1
2025-08-08 17:16:46,082 - TornadoListener - INFO - ✅ Bookmark engine initialized
2025-08-08 17:16:46,083 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-08-08 17:16:46,083 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-08-08 17:31:48,507 - TornadoListener - INFO - Processing command: 0d53f987-cd0c-4232-ba65-7cb63ef3598a - load_template
2025-08-08 17:31:48,638 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-08-08 17:31:48,639 - TornadoListener - INFO - ✅ Template loaded: top_view.html
2025-08-08 17:31:48,720 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 17:31:48,775 - TornadoListener - INFO - ✅ Command 0d53f987-cd0c-4232-ba65-7cb63ef3598a executed successfully
2025-08-08 17:31:59,156 - TornadoListener - INFO - Processing command: 03f03e5a-d2fc-4dd3-867b-c63566dfc8e5 - update_slice_visibility
2025-08-08 17:31:59,214 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=False, z=False
2025-08-08 17:31:59,215 - TornadoListener - INFO - 📊 Before update: x_visible=False, y_visible=False, z_visible=True, undo_count=2
2025-08-08 17:31:59,215 - tornado_end.core.bookmark_engine_v2 - INFO - x_visible changed from False to False
2025-08-08 17:31:59,216 - tornado_end.core.bookmark_engine_v2 - INFO - y_visible changed from False to False
2025-08-08 17:31:59,216 - tornado_end.core.bookmark_engine_v2 - INFO - z_visible changed from True to False
2025-08-08 17:31:59,224 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=4, index=3, can_undo=True, undo_count=3
2025-08-08 17:31:59,225 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=3
2025-08-08 17:31:59,306 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-08 17:31:59,357 - TornadoListener - INFO - ✅ Command 03f03e5a-d2fc-4dd3-867b-c63566dfc8e5 executed successfully
2025-08-11 19:58:56,795 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-08-11 19:58:56,795 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-08-11 19:58:56,796 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-08-11 19:58:56,796 - TornadoListener - INFO - Initializing SQLite database connection...
2025-08-11 19:58:56,905 - TornadoListener - INFO - ✅ SQLite database connection established
2025-08-11 19:58:56,958 - TornadoListener - INFO - Initializing bookmark engine...
2025-08-11 19:58:56,965 - tornado_end.core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-08-11 19:58:57,094 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-08-11 19:58:57,095 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=1, index=0
2025-08-11 19:58:57,096 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-08-11 19:58:57,096 - shared.utils.coordinate_mapper - INFO - Crossline mapping: slope=6.25, intercept=-5.75
2025-08-11 19:58:57,097 - shared.utils.coordinate_mapper - INFO - Inline mapping: slope=12.50, intercept=-11.75
2025-08-11 19:58:57,098 - shared.utils.coordinate_mapper - INFO - Depth mapping: slope=1.00, intercept=0.00
2025-08-11 19:58:57,098 - tornado_end.core.seismic_navigation - INFO - Seismic coordinate mappings: {'crossline': True, 'inline': True, 'depth': True}
2025-08-11 19:58:57,099 - TornadoListener - INFO - ✅ Bookmark engine and seismic navigator initialized
2025-08-11 19:58:57,100 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-08-11 19:58:57,101 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-08-11 19:58:59,668 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-08-11 19:58:59,669 - TornadoListener - INFO - Cleaning up resources...
2025-08-11 19:58:59,768 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-08-11 20:04:34,430 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-08-11 20:04:34,431 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-08-11 20:04:34,432 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-08-11 20:04:34,432 - TornadoListener - INFO - Initializing SQLite database connection...
2025-08-11 20:04:34,529 - TornadoListener - INFO - ✅ SQLite database connection established
2025-08-11 20:04:34,593 - TornadoListener - INFO - Initializing bookmark engine...
2025-08-11 20:04:34,601 - tornado_end.core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-08-11 20:04:34,684 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-08-11 20:04:34,685 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=1, index=0
2025-08-11 20:04:34,686 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-08-11 20:04:34,687 - shared.utils.coordinate_mapper - INFO - Crossline mapping: slope=6.25, intercept=-5.75
2025-08-11 20:04:34,688 - shared.utils.coordinate_mapper - INFO - Inline mapping: slope=12.50, intercept=-11.75
2025-08-11 20:04:34,689 - shared.utils.coordinate_mapper - INFO - Depth mapping: slope=1.00, intercept=0.00
2025-08-11 20:04:34,689 - tornado_end.core.seismic_navigation - INFO - Seismic coordinate mappings: {'crossline': True, 'inline': True, 'depth': True}
2025-08-11 20:04:34,690 - TornadoListener - INFO - ✅ Bookmark engine and seismic navigator initialized
2025-08-11 20:04:34,690 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-08-11 20:04:34,691 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-08-11 20:07:36,762 - TornadoListener - INFO - Processing command: f60cb263-e68e-4b33-abc7-1952a2a84949 - update_visibility
2025-08-11 20:07:36,863 - tornado_end.core.bookmark_engine_v2 - INFO - horizon_visible changed from False to True
2025-08-11 20:07:36,873 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-08-11 20:07:36,989 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-11 20:07:37,091 - TornadoListener - INFO - ✅ Command f60cb263-e68e-4b33-abc7-1952a2a84949 executed successfully
2025-08-11 20:07:51,747 - TornadoListener - INFO - Processing command: 08baa1d7-820c-4b30-8b6b-8b97a69365b0 - update_visibility
2025-08-11 20:07:51,800 - tornado_end.core.bookmark_engine_v2 - INFO - horizon_visible changed from True to False
2025-08-11 20:07:51,807 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-08-11 20:07:51,920 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-11 20:07:51,973 - TornadoListener - INFO - ✅ Command 08baa1d7-820c-4b30-8b6b-8b97a69365b0 executed successfully
2025-08-11 20:08:23,274 - TornadoListener - INFO - Processing command: 90a49cf7-6a86-4985-b2c5-bcc60cd68ac4 - update_visibility
2025-08-11 20:08:23,381 - tornado_end.core.bookmark_engine_v2 - INFO - profile_visible changed from True to False
2025-08-11 20:08:23,391 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=4, index=3, can_undo=True, undo_count=3
2025-08-11 20:08:23,521 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-11 20:08:23,586 - TornadoListener - INFO - ✅ Command 90a49cf7-6a86-4985-b2c5-bcc60cd68ac4 executed successfully
2025-08-11 20:09:24,107 - TornadoListener - INFO - Processing command: 5dd9e619-4a90-42cf-be00-d444e6bbed57 - update_visibility
2025-08-11 20:09:24,213 - tornado_end.core.bookmark_engine_v2 - INFO - seismic_visible changed from True to False
2025-08-11 20:09:24,224 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=5, index=4, can_undo=True, undo_count=4
2025-08-11 20:09:24,340 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-11 20:09:24,436 - TornadoListener - INFO - ✅ Command 5dd9e619-4a90-42cf-be00-d444e6bbed57 executed successfully
2025-08-11 20:09:32,777 - TornadoListener - INFO - Processing command: d31be1bf-5b7f-4acd-bfae-f42d2966dc76 - update_visibility
2025-08-11 20:09:32,875 - tornado_end.core.bookmark_engine_v2 - INFO - profile_visible changed from False to True
2025-08-11 20:09:32,883 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=6, index=5, can_undo=True, undo_count=5
2025-08-11 20:09:33,004 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-11 20:09:33,103 - TornadoListener - INFO - ✅ Command d31be1bf-5b7f-4acd-bfae-f42d2966dc76 executed successfully
2025-08-11 20:10:37,863 - TornadoListener - INFO - Processing command: 1a79babf-58ab-4c87-acba-dd4009f92407 - move_to_seismic_position
2025-08-11 20:10:37,953 - TornadoListener - INFO - 🎯 Seismic navigation: crossline=25519.0, inline=None, depth=None
2025-08-11 20:10:37,954 - tornado_end.core.bookmark_engine_v2 - INFO - Position changed from (159487.5, 111625.0, 3500.0) to (159488, 111625, 3500)
2025-08-11 20:10:37,962 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=7, index=6, can_undo=True, undo_count=6
2025-08-11 20:10:37,963 - TornadoListener - INFO - ✅ Moved to seismic position: crossline=25519, inline=8931, depth=3500
2025-08-11 20:10:37,964 - TornadoListener - INFO -    Cartesian coordinates: X=159488, Y=111625, Z=3500
2025-08-11 20:10:38,081 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-11 20:10:38,176 - TornadoListener - INFO - ✅ Command 1a79babf-58ab-4c87-acba-dd4009f92407 executed successfully
2025-08-11 20:10:48,587 - TornadoListener - INFO - Processing command: 82637add-93b0-4817-b5ef-bdaa64231130 - undo
2025-08-11 20:10:48,682 - TornadoListener - INFO - 🔄 Processing undo request: can_undo=True, undo_count=6
2025-08-11 20:10:48,684 - TornadoListener - INFO - 🔍 BEFORE undo: history_length=7, index=6, undo_count=6
2025-08-11 20:10:48,685 - tornado_end.core.bookmark_engine_v2 - INFO - Undo requested: history_length=7, current_index=6, can_undo=True
2025-08-11 20:10:48,694 - tornado_end.core.bookmark_engine_v2 - INFO - Undo: Reverted to history index 5
2025-08-11 20:10:48,695 - TornadoListener - INFO - 🔍 AFTER undo: history_length=7, index=5, undo_count=5
2025-08-11 20:10:48,695 - TornadoListener - INFO - ✅ Undo performed: new undo_count=5
2025-08-11 20:10:48,809 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-11 20:10:49,081 - TornadoListener - INFO - ✅ Command 82637add-93b0-4817-b5ef-bdaa64231130 executed successfully
2025-08-11 20:11:39,304 - TornadoListener - INFO - Processing command: b40c57dd-479d-415d-bbd4-76107038a9c0 - move_to_seismic_position
2025-08-11 20:11:39,405 - TornadoListener - INFO - 🎯 Seismic navigation: crossline=25599.0, inline=None, depth=None
2025-08-11 20:11:39,406 - tornado_end.core.bookmark_engine_v2 - INFO - Position changed from (159487.5, 111625.0, 3500.0) to (159988, 111625, 3500)
2025-08-11 20:11:39,416 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=7, index=6, can_undo=True, undo_count=6
2025-08-11 20:11:39,417 - TornadoListener - INFO - ✅ Moved to seismic position: crossline=25599, inline=8931, depth=3500
2025-08-11 20:11:39,418 - TornadoListener - INFO -    Cartesian coordinates: X=159988, Y=111625, Z=3500
2025-08-11 20:11:39,538 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-11 20:11:39,632 - TornadoListener - INFO - ✅ Command b40c57dd-479d-415d-bbd4-76107038a9c0 executed successfully
2025-08-11 20:11:54,222 - TornadoListener - INFO - Processing command: 7a870509-7aa7-41e7-8f08-9bfd151dc068 - move_to_seismic_position
2025-08-11 20:11:54,508 - TornadoListener - INFO - 🎯 Seismic navigation: crossline=25559.0, inline=None, depth=None
2025-08-11 20:11:54,510 - tornado_end.core.bookmark_engine_v2 - INFO - Position changed from (159988, 111625, 3500) to (159738, 111625, 3500)
2025-08-11 20:11:54,520 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=8, index=7, can_undo=True, undo_count=7
2025-08-11 20:11:54,521 - TornadoListener - INFO - ✅ Moved to seismic position: crossline=25559, inline=8931, depth=3500
2025-08-11 20:11:54,522 - TornadoListener - INFO -    Cartesian coordinates: X=159738, Y=111625, Z=3500
2025-08-11 20:11:54,641 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-11 20:11:54,736 - TornadoListener - INFO - ✅ Command 7a870509-7aa7-41e7-8f08-9bfd151dc068 executed successfully
2025-08-11 20:12:43,118 - TornadoListener - INFO - Processing command: 0bba8aee-6089-49ab-992b-c95e41c05f74 - zoom_in
2025-08-11 20:12:43,428 - tornado_end.core.bookmark_engine_v2 - INFO - Scale changed from (0.8121716898732568, 0.8121716898732568) to (0.8933888588605826, 0.8933888588605826)
2025-08-11 20:12:43,438 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=9, index=8, can_undo=True, undo_count=8
2025-08-11 20:12:43,529 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-11 20:12:43,621 - TornadoListener - INFO - ✅ Command 0bba8aee-6089-49ab-992b-c95e41c05f74 executed successfully
2025-08-11 20:12:54,018 - TornadoListener - INFO - Processing command: 27d51ca9-92c8-4084-ac55-a9fe4adb3489 - zoom_in
2025-08-11 20:12:54,107 - tornado_end.core.bookmark_engine_v2 - INFO - Scale changed from (0.8933888588605826, 0.8933888588605826) to (0.9827277447466409, 0.9827277447466409)
2025-08-11 20:12:54,115 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=10, index=9, can_undo=True, undo_count=9
2025-08-11 20:12:54,235 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-11 20:12:54,528 - TornadoListener - INFO - ✅ Command 27d51ca9-92c8-4084-ac55-a9fe4adb3489 executed successfully
2025-08-11 20:13:09,247 - TornadoListener - INFO - Processing command: b401fb0c-1ae6-427c-8f8e-da1b8bbf6fc9 - zoom_in
2025-08-11 20:13:09,356 - tornado_end.core.bookmark_engine_v2 - INFO - Scale changed from (0.9827277447466409, 0.9827277447466409) to (1.081000519221305, 1.081000519221305)
2025-08-11 20:13:09,366 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=11, index=10, can_undo=True, undo_count=10
2025-08-11 20:13:09,490 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-11 20:13:09,546 - TornadoListener - INFO - ✅ Command b401fb0c-1ae6-427c-8f8e-da1b8bbf6fc9 executed successfully
2025-08-11 20:13:22,185 - TornadoListener - INFO - Processing command: 436c3981-bd63-4a7f-8763-6a38e8507bcb - zoom_in
2025-08-11 20:13:22,283 - tornado_end.core.bookmark_engine_v2 - INFO - Scale changed from (1.081000519221305, 1.081000519221305) to (1.1891005711434357, 1.1891005711434357)
2025-08-11 20:13:22,290 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=12, index=11, can_undo=True, undo_count=11
2025-08-11 20:13:22,405 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-11 20:13:22,509 - TornadoListener - INFO - ✅ Command 436c3981-bd63-4a7f-8763-6a38e8507bcb executed successfully
2025-08-11 20:13:41,194 - TornadoListener - INFO - Processing command: 349c0a11-eb19-4c4e-8496-67d1cafbc4af - zoom_in
2025-08-11 20:13:41,262 - tornado_end.core.bookmark_engine_v2 - INFO - Scale changed from (1.1891005711434357, 1.1891005711434357) to (1.3080106282577795, 1.3080106282577795)
2025-08-11 20:13:41,274 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=13, index=12, can_undo=True, undo_count=12
2025-08-11 20:13:41,402 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-11 20:13:41,493 - TornadoListener - INFO - ✅ Command 349c0a11-eb19-4c4e-8496-67d1cafbc4af executed successfully
2025-08-11 20:13:49,900 - TornadoListener - INFO - Processing command: 53af69eb-afa4-4f8e-adb0-cfcc4c4ea569 - move_to_seismic_position
2025-08-11 20:13:50,000 - TornadoListener - INFO - 🎯 Seismic navigation: crossline=25431.0, inline=7878.0, depth=2231.0
2025-08-11 20:13:50,002 - tornado_end.core.bookmark_engine_v2 - INFO - Position changed from (159738, 111625, 3500) to (158938, 98463, 2231)
2025-08-11 20:13:50,011 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=14, index=13, can_undo=True, undo_count=13
2025-08-11 20:13:50,013 - TornadoListener - INFO - ✅ Moved to seismic position: crossline=25431, inline=7878, depth=2231
2025-08-11 20:13:50,013 - TornadoListener - INFO -    Cartesian coordinates: X=158938, Y=98463, Z=2231
2025-08-11 20:13:50,125 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-11 20:13:50,433 - TornadoListener - INFO - ✅ Command 53af69eb-afa4-4f8e-adb0-cfcc4c4ea569 executed successfully
2025-08-11 20:15:05,325 - TornadoListener - INFO - Processing command: b3a07214-1735-4774-ac1f-a9090dee2cc5 - move_to_seismic_position
2025-08-11 20:15:05,395 - TornadoListener - INFO - 🎯 Seismic navigation: crossline=25575.0, inline=5500.0, depth=1800.0
2025-08-11 20:15:05,396 - tornado_end.core.bookmark_engine_v2 - INFO - Position changed from (158938, 98463, 2231) to (159838, 68738, 1800)
2025-08-11 20:15:05,406 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=15, index=14, can_undo=True, undo_count=14
2025-08-11 20:15:05,407 - TornadoListener - INFO - ✅ Moved to seismic position: crossline=25575, inline=5500, depth=1800
2025-08-11 20:15:05,407 - TornadoListener - INFO -    Cartesian coordinates: X=159838, Y=68738, Z=1800
2025-08-11 20:15:05,525 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-11 20:15:05,615 - TornadoListener - INFO - ✅ Command b3a07214-1735-4774-ac1f-a9090dee2cc5 executed successfully
2025-08-11 20:15:24,086 - TornadoListener - INFO - Received interrupt signal - exiting development mode
2025-08-11 20:15:24,087 - TornadoListener - INFO - Cleaning up resources...
2025-08-11 20:15:24,195 - TornadoListener - ERROR - Error closing database: 'DatabaseConfig' object has no attribute 'cleanup'
2025-08-11 21:34:46,692 - TornadoListener - INFO - 🚀 Starting Tornado listener service...
2025-08-11 21:34:46,693 - TornadoListener - INFO - Initializing seismic view in Tornado...
2025-08-11 21:34:46,694 - TornadoListener - WARNING - Tornado API not available - skipping seismic initialization
2025-08-11 21:34:46,694 - TornadoListener - INFO - Initializing SQLite database connection...
2025-08-11 21:34:46,829 - TornadoListener - INFO - ✅ SQLite database connection established
2025-08-11 21:34:46,897 - TornadoListener - INFO - Initializing bookmark engine...
2025-08-11 21:34:46,906 - tornado_end.core.bookmark_engine_v2 - INFO - Calling final update_params() in initialization
2025-08-11 21:34:46,998 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=1, index=0, can_undo=False, undo_count=0
2025-08-11 21:34:46,999 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization: loaded template, history_length=1, index=0
2025-08-11 21:34:47,000 - tornado_end.core.bookmark_engine_v2 - INFO - Initialization complete: history_length=1, index=0, can_undo=False, undo_count=0
2025-08-11 21:34:47,001 - shared.utils.coordinate_mapper - INFO - Crossline mapping: slope=6.25, intercept=-5.75
2025-08-11 21:34:47,001 - shared.utils.coordinate_mapper - INFO - Inline mapping: slope=12.50, intercept=-11.75
2025-08-11 21:34:47,002 - shared.utils.coordinate_mapper - INFO - Depth mapping: slope=1.00, intercept=0.00
2025-08-11 21:34:47,002 - tornado_end.core.seismic_navigation - INFO - Seismic coordinate mappings: {'crossline': True, 'inline': True, 'depth': True}
2025-08-11 21:34:47,003 - TornadoListener - INFO - ✅ Bookmark engine and seismic navigator initialized
2025-08-11 21:34:47,004 - TornadoListener - INFO - ✅ Tornado listener service started successfully
2025-08-11 21:34:47,004 - TornadoListener - INFO - 🔄 Entering main processing loop...
2025-08-11 21:34:47,075 - TornadoListener - INFO - Processing command: d4da28f5-c6a1-41d9-a206-92ac68140486 - update_orientation
2025-08-11 21:34:47,171 - tornado_end.core.bookmark_engine_v2 - INFO - Position changed from (0.0, 0.39269908169872414, -0.7853981633974483) to (-3.141592653589793, 0.0, 0.0)
2025-08-11 21:34:47,182 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=2, index=1, can_undo=True, undo_count=1
2025-08-11 21:34:47,298 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-11 21:34:47,393 - TornadoListener - INFO - ✅ Command d4da28f5-c6a1-41d9-a206-92ac68140486 executed successfully
2025-08-11 21:35:02,029 - TornadoListener - INFO - Processing command: aa0c9c2e-3b5e-4fbe-9635-4b6d835e99c0 - update_slice_visibility
2025-08-11 21:35:02,131 - TornadoListener - INFO - 🔄 Processing slice visibility update: x=False, y=False, z=False
2025-08-11 21:35:02,133 - TornadoListener - INFO - 📊 Before update: x_visible=True, y_visible=False, z_visible=False, undo_count=1
2025-08-11 21:35:02,133 - tornado_end.core.bookmark_engine_v2 - INFO - x_visible changed from True to False
2025-08-11 21:35:02,134 - tornado_end.core.bookmark_engine_v2 - INFO - y_visible changed from False to False
2025-08-11 21:35:02,135 - tornado_end.core.bookmark_engine_v2 - INFO - z_visible changed from False to False
2025-08-11 21:35:02,143 - tornado_end.core.bookmark_engine_v2 - INFO - History updated: length=3, index=2, can_undo=True, undo_count=2
2025-08-11 21:35:02,143 - TornadoListener - INFO - 📊 After update: x_visible=False, y_visible=False, z_visible=False, undo_count=2
2025-08-11 21:35:02,251 - TornadoListener - INFO - 📤 State update sent to NLP via database
2025-08-11 21:35:02,349 - TornadoListener - INFO - ✅ Command aa0c9c2e-3b5e-4fbe-9635-4b6d835e99c0 executed successfully
